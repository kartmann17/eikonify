import{r as d,j as s,c as R,L as V}from"./app-CV50y06C.js";import{c as L,d as H,u as z,b as I,B as w}from"./button-CfSFJDFM.js";import{b as q,c as D,C as F,a as W,d as K}from"./card-D5l-cJly.js";import{u as U,c as J,a as Y}from"./index-C_LOcsl0.js";import{u as X}from"./index-C_I7p8Il.js";import{L as E}from"./label-DXHT2DX8.js";import{S as Z}from"./settings-DvOtzv6a.js";const G=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],Q=L("Cookie",G);function ee(e,t=[]){let r=[];function o(i,a){const c=d.createContext(a),l=r.length;r=[...r,a];const u=m=>{const{scope:v,children:p,...x}=m,g=v?.[e]?.[l]||c,y=d.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:y,children:p})};u.displayName=i+"Provider";function f(m,v){const p=v?.[e]?.[l]||c,x=d.useContext(p);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,f]}const n=()=>{const i=r.map(a=>d.createContext(a));return function(c){const l=c?.[e]||i;return d.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return n.scopeName=e,[o,te(n,...t)]}function te(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const a=o.reduce((c,{useScope:l,scopeName:u})=>{const m=l(i)[`__scope${u}`];return{...c,...m}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function se(e){const t=ne(e),r=d.forwardRef((o,n)=>{const{children:i,...a}=o,c=d.Children.toArray(i),l=c.find(oe);if(l){const u=l.props.children,f=c.map(m=>m===l?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...a,ref:n,children:d.isValidElement(u)?d.cloneElement(u,void 0,f):null})}return s.jsx(t,{...a,ref:n,children:i})});return r.displayName=`${e}.Slot`,r}function ne(e){const t=d.forwardRef((r,o)=>{const{children:n,...i}=r;if(d.isValidElement(n)){const a=ce(n),c=ae(i,n.props);return n.type!==d.Fragment&&(c.ref=o?H(o,a):a),d.cloneElement(n,c)}return d.Children.count(n)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var re=Symbol("radix.slottable");function oe(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===re}function ae(e,t){const r={...t};for(const o in t){const n=e[o],i=t[o];/^on[A-Z]/.test(o)?n&&i?r[o]=(...c)=>{const l=i(...c);return n(...c),l}:n&&(r[o]=n):o==="style"?r[o]={...n,...i}:o==="className"&&(r[o]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}function ce(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O=ie.reduce((e,t)=>{const r=se(`Primitive.${t}`),o=d.forwardRef((n,i)=>{const{asChild:a,...c}=n,l=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...c,ref:i})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),N="Switch",[le]=ee(N),[de,ue]=le(N),M=d.forwardRef((e,t)=>{const{__scopeSwitch:r,name:o,checked:n,defaultChecked:i,required:a,disabled:c,value:l="on",onCheckedChange:u,form:f,...m}=e,[v,p]=d.useState(null),x=z(t,C=>p(C)),g=d.useRef(!1),y=v?f||!!v.closest("form"):!0,[b,k]=U({prop:n,defaultProp:i??!1,onChange:u,caller:N});return s.jsxs(de,{scope:r,checked:b,disabled:c,children:[s.jsx(O.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":B(b),"data-disabled":c?"":void 0,disabled:c,value:l,...m,ref:x,onClick:J(e.onClick,C=>{k(S=>!S),y&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),y&&s.jsx(A,{control:v,bubbles:!g.current,name:o,value:l,checked:b,required:a,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});M.displayName=N;var T="SwitchThumb",$=d.forwardRef((e,t)=>{const{__scopeSwitch:r,...o}=e,n=ue(T,r);return s.jsx(O.span,{"data-state":B(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:t})});$.displayName=T;var fe="SwitchBubbleInput",A=d.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:o=!0,...n},i)=>{const a=d.useRef(null),c=z(a,i),l=X(r),u=Y(t);return d.useEffect(()=>{const f=a.current;if(!f)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&p){const x=new Event("click",{bubbles:o});p.call(f,r),f.dispatchEvent(x)}},[l,r,o]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:c,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});A.displayName=fe;function B(e){return e?"checked":"unchecked"}var me=M,pe=$;function _(e){const t=R.c(11);let r,o,n;t[0]!==e?({className:r,size:n,...o}=e,t[0]=e,t[1]=r,t[2]=o,t[3]=n):(r=t[1],o=t[2],n=t[3]);const i=n===void 0?"default":n;let a;t[4]!==r?(a=I("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 group/switch inline-flex shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-[1.15rem] data-[size=default]:w-8 data-[size=sm]:h-3.5 data-[size=sm]:w-6",r),t[4]=r,t[5]=a):a=t[5];let c;t[6]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(pe,{"data-slot":"switch-thumb",className:I("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block rounded-full ring-0 transition-transform group-data-[size=default]/switch:size-4 group-data-[size=sm]/switch:size-3 data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),t[6]=c):c=t[6];let l;return t[7]!==o||t[8]!==i||t[9]!==a?(l=s.jsx(me,{"data-slot":"switch","data-size":i,className:a,...o,children:c}),t[7]=o,t[8]=i,t[9]=a,t[10]=l):l=t[10],l}const P="cookie_consent",j="cookie_preferences";function we(){const e=R.c(14),[t,r]=d.useState(!1),[o,n]=d.useState(!1);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={necessary:!0,analytics:!1,marketing:!1},e[0]=i):i=e[0];const[a,c]=d.useState(i);let l,u;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{if(localStorage.getItem(P)){const h=localStorage.getItem(j);h&&c(JSON.parse(h))}else{const h=setTimeout(()=>r(!0),1e3);return()=>clearTimeout(h)}},u=[],e[1]=l,e[2]=u):(l=e[1],u=e[2]),d.useEffect(l,u);let f,m;if(e[3]===Symbol.for("react.memo_cache_sentinel")){f=h=>{localStorage.setItem(P,"true"),localStorage.setItem(j,JSON.stringify(h)),c(h),r(!1),S(h)};const S=he;m=()=>{f({necessary:!0,analytics:!0,marketing:!0})},e[3]=f,e[4]=m}else f=e[3],m=e[4];const v=m;let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{f({necessary:!0,analytics:!1,marketing:!1})},e[5]=p):p=e[5];const x=p;let g;e[6]!==a?(g=()=>{f(a)},e[6]=a,e[7]=g):g=e[7];const y=g;if(!t)return null;let b;e[8]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm"}),e[8]=b):b=e[8];let k;e[9]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsxs(F,{className:"pb-4",children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Q,{className:"h-5 w-5"}),"Nous utilisons des cookies"]}),s.jsx(K,{children:"Ce site utilise des cookies pour ameliorer votre experience. Vous pouvez personnaliser vos preferences ci-dessous."})]}),e[9]=k):k=e[9];let C;return e[10]!==y||e[11]!==a||e[12]!==o?(C=s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center p-4 sm:items-center",children:[b,s.jsxs(q,{className:"relative z-10 w-full max-w-lg shadow-xl",children:[k,s.jsx(D,{className:"space-y-4",children:o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"font-medium",children:"Cookies necessaires"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Essentiels au fonctionnement du site. Ne peuvent pas etre desactives."})]}),s.jsx(_,{checked:!0,disabled:!0})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"font-medium",children:"Cookies analytiques"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Nous aident a comprendre comment vous utilisez le site."})]}),s.jsx(_,{checked:a.analytics,onCheckedChange:S=>c(h=>({...h,analytics:S}))})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"font-medium",children:"Cookies marketing"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Utilises pour vous proposer des publicites pertinentes."})]}),s.jsx(_,{checked:a.marketing,onCheckedChange:S=>c(h=>({...h,marketing:S}))})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(w,{variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Retour"}),s.jsx(w,{onClick:y,className:"flex-1",children:"Sauvegarder"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[`En cliquant sur "Accepter tout", vous consentez a l'utilisation de tous les cookies. Vous pouvez egalement personnaliser vos preferences.`," ",s.jsx(V,{href:"/privacy-policy",className:"underline hover:text-foreground",children:"En savoir plus"})]}),s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[s.jsx(w,{variant:"outline",onClick:x,className:"flex-1",children:"Refuser tout"}),s.jsxs(w,{variant:"outline",onClick:()=>n(!0),className:"flex-1 gap-2",children:[s.jsx(Z,{className:"h-4 w-4"}),"Personnaliser"]}),s.jsx(w,{onClick:v,className:"flex-1",children:"Accepter tout"})]})]})})]})]}),e[10]=y,e[11]=a,e[12]=o,e[13]=C):C=e[13],C}function he(e){e.analytics?window.dispatchEvent(new CustomEvent("cookie-consent-analytics",{detail:!0})):window.dispatchEvent(new CustomEvent("cookie-consent-analytics",{detail:!1})),e.marketing?window.dispatchEvent(new CustomEvent("cookie-consent-marketing",{detail:!0})):window.dispatchEvent(new CustomEvent("cookie-consent-marketing",{detail:!1}))}function je(){const e=R.c(7),[t,r]=d.useState(null);let o,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{const u=localStorage.getItem(j);u&&r(JSON.parse(u))},n=[],e[0]=o,e[1]=n):(o=e[0],n=e[1]),d.useEffect(o,n);let i;e[2]!==t?(i=u=>t?.[u]??!1,e[2]=t,e[3]=i):i=e[3];const a=i,c=xe;let l;return e[4]!==a||e[5]!==t?(l={preferences:t,hasConsent:a,resetConsent:c},e[4]=a,e[5]=t,e[6]=l):l=e[6],l}function xe(){localStorage.removeItem(P),localStorage.removeItem(j),window.location.reload()}export{we as C,je as u};
