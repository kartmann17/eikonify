import{r as c,j as s,c as de,f as Ue,L as Pe,e as Ie}from"./app-akdF0UQF.js";import{c as xe,B as G,b as ze}from"./button-BdOT1yAC.js";import{B as he}from"./badge-DYF6X-zs.js";import{a as Ce,d as _e,C as Re,c as Y,b as ee}from"./card-CDiYXeb9.js";import{a as Fe,u as $e,A as qe,K as Te}from"./use-keyword-suggestions-DGxklIG1.js";import{P as Be}from"./progress-DmsJ_EE7.js";import{r as Oe,I as He}from"./image-card-2oIMfsjJ.js";import{u as pe}from"./useTranslation-C6fWKkAI.js";import{C as fe}from"./crown-BqGY5dte.js";import{L as Ee}from"./loader-circle-CJcm5ByM.js";import{I as we}from"./image-BdZwaCyV.js";import{X as Ke}from"./x-DN597F1n.js";import{S as Me}from"./scissors-FNp1qvth.js";import{R as We}from"./refresh-cw-Cd8FkgG_.js";import{D as Xe}from"./download-BaJrsnO6.js";import{C as ue,G as Qe}from"./gauge-DWtrkCuN.js";import{d as Ve,e as Ze,c as Ge,b as Je,D as Ye}from"./dialog-DJcMuMHX.js";import{Z as Le}from"./zap-fMsk8lO_.js";import{C as Ae}from"./check-BKV3Fl0E.js";import{N as et,F as tt}from"./footer-DZGKrkSC.js";import{S as ke}from"./sparkles-BhJuAmk8.js";import{S as st}from"./search-n9NlLgLU.js";import{C as at}from"./cookie-consent-DWqaJ7SF.js";import{S as lt}from"./seo-head-DktdDTso.js";/* empty css            */import"./index-DWathVxY.js";import"./label-CATpRmWc.js";import"./index-D_gUAlRl.js";import"./lock-CsK3Em9R.js";import"./input-Cs1fsYbE.js";import"./index-CtrMaZOQ.js";import"./index-DYJll8sb.js";import"./index-D6SAxgfg.js";import"./index-Cnj7nTTh.js";import"./index-CwlvpiCt.js";import"./index-C91kYN7g.js";import"./dropdown-menu-u_F1iKCr.js";import"./index-Duuv9Igk.js";import"./shield-eVjY4jfl.js";import"./user-DfjIkq9s.js";import"./index-BFvfTCDL.js";import"./settings-DIMWCOz3.js";const rt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],De=xe("CircleAlert",rt);const ot=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],nt=xe("CloudUpload",ot);const it=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],ct=xe("FileImage",it);const mt=[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],dt=xe("ImageDown",mt);const xt=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],ut=xe("MousePointerClick",xt);const ht=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ft=xe("Upload",ht);function pt(){const[t,e]=c.useState(!1),[l,a]=c.useState(0),[y,u]=c.useState(null),[b,g]=c.useState(null),[w,m]=c.useState(null),h=c.useRef(null),n=c.useCallback(async()=>{try{const i=await fetch("/api/optiseo/bg-remove/usage",{credentials:"include",headers:{Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}});if(i.ok){const x=await i.json();m(x)}}catch(i){console.error("Failed to fetch bg removal usage:",i)}},[]),r=c.useCallback(async()=>{try{const i=await fetch("/api/optiseo/bg-remove/increment",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}});if(i.ok)return await n(),!0;const x=await i.json();return u(x.message||"Quota dépassé"),!1}catch(i){return console.error("Failed to increment usage:",i),!1}},[n]),d=c.useCallback(async i=>{if(e(!0),a(0),u(null),g(null),h.current&&(URL.revokeObjectURL(h.current),h.current=null),!await r())return e(!1),null;try{const k=await Oe(i,{progress:(M,z,D)=>{if(D>0){const E=Math.round(z/D*100);a(E)}},output:{format:"image/png",quality:1}}),C=URL.createObjectURL(k);h.current=C;const j=`${i.name.replace(/\.[^/.]+$/,"")}-no-bg.png`,R={url:C,filename:j,blob:k};return g(R),R}catch(S){const k=S instanceof Error?S.message:"Erreur lors du traitement";return u(k),null}finally{e(!1),a(100)}},[r]),N=c.useCallback(()=>{e(!1),a(0),u(null),g(null),h.current&&(URL.revokeObjectURL(h.current),h.current=null)},[]);return{isProcessing:t,progress:l,error:y,result:b,usage:w,removeBackground:d,fetchUsage:n,incrementUsage:r,reset:N}}function gt({originalSrc:t,processedSrc:e,originalAlt:l="Image originale",processedAlt:a="Arriere-plan supprime",className:y=""}){const[u,b]=c.useState(50),g=c.useRef(null),w=c.useRef(!1),m=c.useCallback(i=>{if(!g.current)return;const x=g.current.getBoundingClientRect(),S=i-x.left,k=Math.max(0,Math.min(100,S/x.width*100));b(k)},[]),h=c.useCallback(()=>{w.current=!0},[]),n=c.useCallback(()=>{w.current=!1},[]),r=c.useCallback(i=>{w.current&&m(i.clientX)},[m]),d=c.useCallback(i=>{i.touches.length>0&&m(i.touches[0].clientX)},[m]),N=c.useCallback(i=>{b(Number(i.target.value))},[]);return s.jsxs("div",{ref:g,className:`relative overflow-hidden rounded-lg select-none ${y}`,onMouseMove:r,onMouseUp:n,onMouseLeave:n,onTouchMove:d,onTouchEnd:n,children:[s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
                        linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
                        linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
                        linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
                        linear-gradient(-45deg, transparent 75%, #e0e0e0 75%)
                    `,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"}}),s.jsx("img",{src:e,alt:a,className:"relative w-full h-auto block",draggable:!1}),s.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{width:`${u}%`},children:s.jsx("img",{src:t,alt:l,className:"w-full h-full object-cover",style:{width:g.current?.offsetWidth||"100%",maxWidth:"none"},draggable:!1})}),s.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white shadow-lg",style:{left:`${u}%`,transform:"translateX(-50%)"},children:s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center cursor-ew-resize border-2 border-gray-200 hover:border-primary transition-colors",onMouseDown:h,onTouchStart:h,children:s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})})})}),s.jsx("input",{type:"range",min:"0",max:"100",step:"0.1",value:u,onChange:N,className:"absolute inset-0 w-full h-full opacity-0 cursor-ew-resize","aria-label":"Comparaison avant/apres"}),s.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 bg-black/60 text-white text-xs rounded backdrop-blur-sm",children:"Avant"}),s.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 bg-black/60 text-white text-xs rounded backdrop-blur-sm",children:"Apres"})]})}function bt(){const t=de.c(81),{t:e}=pe(),{auth:l}=Ue().props,a=l?.isPro??!1,y=c.useRef(null),[u,b]=c.useState(null),[g,w]=c.useState(null),{isProcessing:m,progress:h,error:n,result:r,usage:d,removeBackground:N,fetchUsage:i,reset:x}=pt();let S,k;t[0]!==i?(S=()=>{i()},k=[i],t[0]=i,t[1]=S,t[2]=k):(S=t[1],k=t[2]),c.useEffect(S,k);let C;t[3]!==x?(C=Z=>{const K=Z.target.files?.[0];K&&(b(K),w(URL.createObjectURL(K)),x())},t[3]=x,t[4]=C):C=t[4];const F=C;let j;t[5]!==x?(j=Z=>{Z.preventDefault();const K=Z.dataTransfer.files[0];K&&K.type.startsWith("image/")&&(b(K),w(URL.createObjectURL(K)),x())},t[5]=x,t[6]=j):j=t[6];const R=j;let M;t[7]!==N||t[8]!==u?(M=async()=>{u&&await N(u)},t[7]=N,t[8]=u,t[9]=M):M=t[9];const z=M;let D;t[10]!==x?(D=()=>{b(null),w(null),x(),y.current&&(y.current.value="")},t[10]=x,t[11]=D):D=t[11];const E=D;let o;t[12]!==r?(o=()=>{if(r?.blob){const Z=URL.createObjectURL(r.blob),K=document.createElement("a");K.href=Z,K.download=r.filename,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(Z)}},t[12]=r,t[13]=o):o=t[13];const f=o,p=(d?.remaining??0)<=0;let P;t[14]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(Me,{className:"h-5 w-5"}),t[14]=P):P=t[14];let U;t[15]!==e?(U=e("bgRemoval.title"),t[15]=e,t[16]=U):U=t[16];let _;t[17]!==U?(_=s.jsxs(Ce,{className:"flex items-center gap-2",children:[P,U]}),t[17]=U,t[18]=_):_=t[18];let L;t[19]!==e?(L=e("bgRemoval.subtitle"),t[19]=e,t[20]=L):L=t[20];let T;t[21]!==L?(T=s.jsx(_e,{className:"mt-1.5",children:L}),t[21]=L,t[22]=T):T=t[22];let I;t[23]!==T||t[24]!==_?(I=s.jsxs("div",{children:[_,T]}),t[23]=T,t[24]=_,t[25]=I):I=t[25];let $;t[26]!==a||t[27]!==e||t[28]!==d?($=d&&s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(he,{variant:a?"default":"secondary",children:e(a?"common.pro":"common.free")})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.remaining,"/",d.quota," ",(d.remaining>1,e("bgRemoval.remainingToday")),d.period==="day"?` ${e("bgRemoval.remainingToday")}`:` ${e("bgRemoval.remainingMonth")}`]})]}),t[26]=a,t[27]=e,t[28]=d,t[29]=$):$=t[29];let H;t[30]!==I||t[31]!==$?(H=s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[I,$]})}),t[30]=I,t[31]=$,t[32]=H):H=t[32];let q;t[33]!==a||t[34]!==p||t[35]!==e||t[36]!==d?.period?(q=p&&s.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-amber-200 bg-amber-50 p-4 dark:border-amber-900 dark:bg-amber-950",children:[s.jsx(De,{className:"h-5 w-5 text-amber-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:d?.period==="day"?e("bgRemoval.quotaDaily"):e("bgRemoval.quotaMonthly")}),s.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:e(a?"bgRemoval.quotaResetPro":"bgRemoval.quotaUpgrade")})]}),!a&&s.jsx(Pe,{href:"/billing",children:s.jsxs(G,{size:"sm",className:"gap-1",children:[s.jsx(fe,{className:"h-4 w-4"}),e("common.pro")]})})]}),t[33]=a,t[34]=p,t[35]=e,t[36]=d?.period,t[37]=q):q=t[37];let B;t[38]!==R||t[39]!==F||t[40]!==p||t[41]!==r||t[42]!==u||t[43]!==e?(B=!u&&!r&&s.jsxs("div",{onClick:()=>!p&&y.current?.click(),onDrop:R,onDragOver:jt,className:`relative flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-8 transition-colors ${p?"cursor-not-allowed border-muted bg-muted/50":"cursor-pointer border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/50"}`,children:[s.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:F,className:"hidden",disabled:p}),s.jsx(ft,{className:"h-10 w-10 text-muted-foreground mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:e("bgRemoval.dropInstruction")}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e("bgRemoval.dropFormats")})]}),t[38]=R,t[39]=F,t[40]=p,t[41]=r,t[42]=u,t[43]=e,t[44]=B):B=t[44];let O;t[45]!==m||t[46]!==g||t[47]!==h||t[48]!==r||t[49]!==u||t[50]!==e?(O=u&&!r&&s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:e("bgRemoval.original")}),s.jsx("div",{className:"relative aspect-square overflow-hidden rounded-lg border bg-muted",children:g&&s.jsx("img",{src:g,alt:e("bgRemoval.original"),className:"h-full w-full object-contain"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:e("bgRemoval.noBackground")}),s.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-lg border",style:{backgroundImage:`linear-gradient(45deg, #e5e7eb 25%, transparent 25%),
                                            linear-gradient(-45deg, #e5e7eb 25%, transparent 25%),
                                            linear-gradient(45deg, transparent 75%, #e5e7eb 75%),
                                            linear-gradient(-45deg, transparent 75%, #e5e7eb 75%)`,backgroundSize:"16px 16px",backgroundPosition:"0 0, 0 8px, 8px -8px, -8px 0px"},children:[m&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80",children:s.jsxs("div",{className:"text-center w-full px-6",children:[s.jsx(Ee,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:h<30?e("bgRemoval.loadingModel"):h<90?e("bgRemoval.analyzing"):e("bgRemoval.finalizing")}),s.jsx(Be,{value:h,className:"mt-3 h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[h,"%"]})]})}),!m&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(we,{className:"h-10 w-10 text-muted-foreground/50"})})]})]})]}),t[45]=m,t[46]=g,t[47]=h,t[48]=r,t[49]=u,t[50]=e,t[51]=O):O=t[51];let W;t[52]!==g||t[53]!==r||t[54]!==e?(W=r&&g&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-center text-muted-foreground",children:e("bgRemoval.compareInstruction")}),s.jsx(gt,{originalSrc:g,processedSrc:r.url,originalAlt:e("bgRemoval.original"),processedAlt:e("bgRemoval.noBackground"),className:"max-w-lg mx-auto"})]}),t[52]=g,t[53]=r,t[54]=e,t[55]=W):W=t[55];let X;t[56]!==n?(X=n&&s.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/50 bg-destructive/10 p-3",children:[s.jsx(De,{className:"h-4 w-4 text-destructive"}),s.jsx("p",{className:"text-sm text-destructive",children:n})]}),t[56]=n,t[57]=X):X=t[57];let Q;t[58]!==E||t[59]!==f||t[60]!==z||t[61]!==m||t[62]!==p||t[63]!==r||t[64]!==u||t[65]!==e?(Q=u&&s.jsx("div",{className:"flex justify-center gap-3",children:r?s.jsxs(s.Fragment,{children:[s.jsxs(G,{variant:"outline",onClick:E,children:[s.jsx(We,{className:"mr-2 h-4 w-4"}),e("bgRemoval.newImage")]}),s.jsxs(G,{onClick:f,children:[s.jsx(Xe,{className:"mr-2 h-4 w-4"}),e("bgRemoval.downloadPng")]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(G,{variant:"outline",onClick:E,children:[s.jsx(Ke,{className:"mr-2 h-4 w-4"}),e("bgRemoval.cancel")]}),s.jsx(G,{onClick:z,disabled:m||p,children:m?s.jsxs(s.Fragment,{children:[s.jsx(Ee,{className:"mr-2 h-4 w-4 animate-spin"}),e("bgRemoval.processing")]}):s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"mr-2 h-4 w-4"}),e("bgRemoval.removeBackground")]})})]})}),t[58]=E,t[59]=f,t[60]=z,t[61]=m,t[62]=p,t[63]=r,t[64]=u,t[65]=e,t[66]=Q):Q=t[66];let V;t[67]!==r||t[68]!==e?(V=r&&s.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-green-200 bg-green-50 p-3 dark:border-green-900 dark:bg-green-950",children:[s.jsx(ue,{className:"h-4 w-4 text-green-600"}),s.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:e("bgRemoval.success")})]}),t[67]=r,t[68]=e,t[69]=V):V=t[69];let A;t[70]!==q||t[71]!==B||t[72]!==O||t[73]!==W||t[74]!==X||t[75]!==Q||t[76]!==V?(A=s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[q,B,O,W,X,Q,V]})}),t[70]=q,t[71]=B,t[72]=O,t[73]=W,t[74]=X,t[75]=Q,t[76]=V,t[77]=A):A=t[77];let J;return t[78]!==H||t[79]!==A?(J=s.jsxs(ee,{children:[H,A]}),t[78]=H,t[79]=A,t[80]=J):J=t[80],J}function jt(t){return t.preventDefault()}const vt=[".jpg",".jpeg",".png",".gif",".webp",".bmp",".tiff",".svg"],Nt=5,yt=10;function wt(t){const e=de.c(63),{onFilesAdded:l,acceptedFormats:a,maxFiles:y,maxFileSizeMb:u,disabled:b,className:g}=t,w=a===void 0?vt:a,m=y===void 0?Nt:y,h=u===void 0?yt:u,n=b===void 0?!1:b,{t:r}=pe(),[d,N]=c.useState(!1);let i;e[0]!==n?(i=A=>{A.preventDefault(),A.stopPropagation(),n||N(!0)},e[0]=n,e[1]=i):i=e[1];const x=i;let S;e[2]===Symbol.for("react.memo_cache_sentinel")?(S=A=>{A.preventDefault(),A.stopPropagation(),N(!1)},e[2]=S):S=e[2];const k=S,C=St;let F;e[3]!==n||e[4]!==l?(F=A=>{if(A.preventDefault(),A.stopPropagation(),N(!1),n)return;const J=Array.from(A.dataTransfer.files);J.length>0&&l(J)},e[3]=n,e[4]=l,e[5]=F):F=e[5];const j=F;let R;e[6]!==l?(R=A=>{A.target.files&&A.target.files.length>0&&(l(Array.from(A.target.files)),A.target.value="")},e[6]=l,e[7]=R):R=e[7];const M=R,z=d?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50",D=n&&"cursor-not-allowed opacity-50";let E;e[8]!==g||e[9]!==D||e[10]!==z?(E=ze("relative rounded-lg border-2 border-dashed transition-colors",z,D,g),e[8]=g,e[9]=D,e[10]=z,e[11]=E):E=e[11];let o;e[12]!==w?(o=w.join(","),e[12]=w,e[13]=o):o=e[13];let f;e[14]!==n||e[15]!==M||e[16]!==o?(f=s.jsx("input",{type:"file",multiple:!0,accept:o,onChange:M,disabled:n,className:"absolute inset-0 cursor-pointer opacity-0 disabled:cursor-not-allowed"}),e[14]=n,e[15]=M,e[16]=o,e[17]=f):f=e[17];const v=d?"bg-primary/10":"bg-muted";let p;e[18]!==v?(p=ze("mb-4 rounded-full p-4",v),e[18]=v,e[19]=p):p=e[19];let P;e[20]!==d?(P=d?s.jsx(nt,{className:"h-10 w-10 text-primary"}):s.jsx(we,{className:"h-10 w-10 text-muted-foreground"}),e[20]=d,e[21]=P):P=e[21];let U;e[22]!==p||e[23]!==P?(U=s.jsx("div",{className:p,children:P}),e[22]=p,e[23]=P,e[24]=U):U=e[24];let _;e[25]!==d||e[26]!==r?(_=r(d?"home.dropzone.titleDragging":"home.dropzone.title"),e[25]=d,e[26]=r,e[27]=_):_=e[27];let L;e[28]!==_?(L=s.jsx("h3",{className:"mb-2 text-lg font-semibold",children:_}),e[28]=_,e[29]=L):L=e[29];let T;e[30]!==r?(T=r("home.dropzone.subtitle"),e[30]=r,e[31]=T):T=e[31];let I;e[32]!==T?(I=s.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:T}),e[32]=T,e[33]=I):I=e[33];let $;e[34]!==w?($=w.map(kt).join(", "),e[34]=w,e[35]=$):$=e[35];let H;e[36]!==$?(H=s.jsx("span",{className:"rounded-full bg-muted px-2 py-1",children:$}),e[36]=$,e[37]=H):H=e[37];let q;e[38]!==m||e[39]!==r?(q=r("home.dropzone.maxFiles",{count:m}),e[38]=m,e[39]=r,e[40]=q):q=e[40];let B;e[41]!==q?(B=s.jsx("span",{className:"rounded-full bg-muted px-2 py-1",children:q}),e[41]=q,e[42]=B):B=e[42];let O;e[43]!==h||e[44]!==r?(O=r("home.dropzone.maxSizePerFile",{size:h}),e[43]=h,e[44]=r,e[45]=O):O=e[45];let W;e[46]!==O?(W=s.jsx("span",{className:"rounded-full bg-muted px-2 py-1",children:O}),e[46]=O,e[47]=W):W=e[47];let X;e[48]!==H||e[49]!==B||e[50]!==W?(X=s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[H,B,W]}),e[48]=H,e[49]=B,e[50]=W,e[51]=X):X=e[51];let Q;e[52]!==U||e[53]!==L||e[54]!==I||e[55]!==X?(Q=s.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-12 text-center",children:[U,L,I,X]}),e[52]=U,e[53]=L,e[54]=I,e[55]=X,e[56]=Q):Q=e[56];let V;return e[57]!==x||e[58]!==j||e[59]!==E||e[60]!==f||e[61]!==Q?(V=s.jsxs("div",{className:E,onDragEnter:x,onDragLeave:k,onDragOver:C,onDrop:j,children:[f,Q]}),e[57]=x,e[58]=j,e[59]=E,e[60]=f,e[61]=Q,e[62]=V):V=e[62],V}function kt(t){return t.replace(".","").toUpperCase()}function St(t){t.preventDefault(),t.stopPropagation()}const Ct=["5 images par jour","3 suppressions d'arrière-plan par jour","Conversion WebP/AVIF","SEO basique","Export ZIP uniquement","Fichiers conservés 1h"],_t=["500 images par mois","500 suppressions d'arrière-plan par mois","Conversion WebP/AVIF","Suggestions IA personnalisées","Historique des conversions","Export ZIP, CSV, JSON, HTML","Fichiers conservés 24h","Dimensions max 8192×8192","Support prioritaire"];function Rt(t){const e=de.c(26),{open:l,onOpenChange:a,trigger:y,featureName:u}=t,b=y===void 0?"quota":y;let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(Le,{className:"h-6 w-6 text-amber-500"}),e[0]=g):g=e[0];const w=b==="quota"?"Quota journalier atteint":`Débloquez ${u||"cette fonctionnalité"}`;let m;e[1]!==w?(m=s.jsxs(Ve,{className:"flex items-center gap-2 text-xl",children:[g,w]}),e[1]=w,e[2]=m):m=e[2];const h=b==="quota"?"Vous avez utilisé vos 5 conversions gratuites aujourd'hui. Passez au plan Pro pour continuer sans limite !":"Cette fonctionnalité est réservée aux abonnés Pro.";let n;e[3]!==h?(n=s.jsx(Ze,{children:h}),e[3]=h,e[4]=n):n=e[4];let r;e[5]!==m||e[6]!==n?(r=s.jsxs(Ge,{children:[m,n]}),e[5]=m,e[6]=n,e[7]=r):r=e[7];let d;e[8]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold",children:"Gratuit"}),s.jsx(he,{variant:"secondary",children:"Actuel"})]}),e[8]=d):d=e[8];let N;e[9]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsxs("p",{className:"mb-4 text-2xl font-bold",children:["0€",s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/mois"})]}),e[9]=N):N=e[9];let i;e[10]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsxs("div",{className:"rounded-lg border p-4",children:[d,N,s.jsx("ul",{className:"space-y-2 text-sm",children:Ct.map(Et)})]}),e[10]=i):i=e[10];let x;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("h3",{className:"flex items-center gap-1 font-semibold",children:[s.jsx(fe,{className:"h-4 w-4 text-amber-500"}),"Pro"]}),s.jsx(he,{className:"bg-amber-500 hover:bg-amber-600",children:"Recommandé"})]}),e[11]=x):x=e[11];let S;e[12]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsxs("p",{className:"mb-4 text-2xl font-bold",children:["9,99€",s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/mois"})]}),e[12]=S):S=e[12];let k;e[13]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsxs("div",{className:"grid gap-4 py-4 sm:grid-cols-2",children:[i,s.jsxs("div",{className:"rounded-lg border-2 border-primary bg-primary/5 p-4",children:[x,S,s.jsx("ul",{className:"space-y-2 text-sm",children:_t.map(Ft)})]})]}),e[13]=k):k=e[13];let C;e[14]!==a?(C=s.jsx(G,{variant:"outline",onClick:()=>a(!1),children:"Plus tard"}),e[14]=a,e[15]=C):C=e[15];let F;e[16]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(Pe,{href:"/billing",children:s.jsxs(G,{className:"w-full gap-2 sm:w-auto",children:[s.jsx(fe,{className:"h-4 w-4"}),"Passer au Pro"]})}),e[16]=F):F=e[16];let j;e[17]!==C?(j=s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:[C,F]}),e[17]=C,e[18]=j):j=e[18];let R;e[19]!==j||e[20]!==r?(R=s.jsxs(Je,{className:"sm:max-w-[500px]",children:[r,k,j]}),e[19]=j,e[20]=r,e[21]=R):R=e[21];let M;return e[22]!==a||e[23]!==l||e[24]!==R?(M=s.jsx(Ye,{open:l,onOpenChange:a,children:R}),e[22]=a,e[23]=l,e[24]=R,e[25]=M):M=e[25],M}function Ft(t,e){return s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"mt-0.5 h-4 w-4 shrink-0 text-primary"}),s.jsx("span",{children:t})]},e)}function Et(t,e){return s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"mt-0.5 h-4 w-4 shrink-0 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:t})]},e)}function Se(t){const e=de.c(9),{end:l,duration:a,suffix:y,prefix:u}=t,b=a===void 0?2e3:a,g=y===void 0?"":y,w=u===void 0?"":u,[m,h]=c.useState(0),[n,r]=c.useState(!1),d=c.useRef(null);let N,i;e[0]!==b||e[1]!==l||e[2]!==n?(N=()=>{const S=new IntersectionObserver(k=>{if(k[0].isIntersecting&&!n){r(!0);let C=0;const F=l/(b/16),j=setInterval(()=>{C=C+F,C>=l?(h(l),clearInterval(j)):h(Math.floor(C))},16)}},{threshold:.5});return d.current&&S.observe(d.current),()=>S.disconnect()},i=[l,b,n],e[0]=b,e[1]=l,e[2]=n,e[3]=N,e[4]=i):(N=e[3],i=e[4]),c.useEffect(N,i);let x;return e[5]!==m||e[6]!==w||e[7]!==g?(x=s.jsxs("span",{ref:d,children:[w,m,g]}),e[5]=m,e[6]=w,e[7]=g,e[8]=x):x=e[8],x}function Mt(){const t=de.c(75),{t:e}=pe(),[l,a]=c.useState(0);let y,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{const W=setInterval(()=>{a(zt)},2500);return()=>clearInterval(W)},u=[],t[0]=y,t[1]=u):(y=t[0],u=t[1]),c.useEffect(y,u);let b;t[2]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
                            linear-gradient(to right, rgba(255,255,255,0.1) 1px, transparent 1px),
                            linear-gradient(to bottom, rgba(255,255,255,0.1) 1px, transparent 1px)
                        `,backgroundSize:"20px 20px"}}),t[2]=b):b=t[2];const g=`absolute transition-all duration-700 ease-out ${l>=1?"scale-75 -translate-x-16 opacity-50":"scale-100 translate-x-0 opacity-100"}`;let w;t[3]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"w-32 h-40 rounded-xl bg-gradient-to-br from-orange-500 to-red-600 flex flex-col items-center justify-center shadow-lg shadow-orange-500/30",children:[s.jsx(ct,{className:"w-12 h-12 text-white/90 mb-2"}),s.jsx("span",{className:"text-white font-bold text-sm",children:".JPEG"}),s.jsx("span",{className:"text-white/70 text-xs mt-1",children:"2.4 Mo"})]}),s.jsx("div",{className:"absolute inset-0 rounded-xl bg-orange-500/20 blur-xl -z-10"})]}),t[3]=w):w=t[3];let m;t[4]!==g?(m=s.jsx("div",{className:g,children:w}),t[4]=g,t[5]=m):m=t[5];let h;t[6]!==l?(h=l>=1&&l<3&&s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(12)].map(Pt)}),t[6]=l,t[7]=h):h=t[7];let n;t[8]!==l?(n=l>=1&&s.jsx("div",{className:`transition-all duration-500 ${l>=2?"opacity-100":"opacity-50"}`,children:s.jsxs("div",{className:"relative",children:[s.jsx(ke,{className:`w-8 h-8 text-violet-400 ${l===1||l===2?"animate-spin":""}`}),s.jsx("div",{className:"absolute inset-0 bg-violet-500/30 blur-xl"})]})}),t[8]=l,t[9]=n):n=t[9];const r=`absolute transition-all duration-700 ease-out ${l>=2?"scale-100 translate-x-16 opacity-100":"scale-50 translate-x-8 opacity-0"}`;let d;t[10]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsxs("div",{className:"w-32 h-40 rounded-xl bg-gradient-to-br from-emerald-500 to-cyan-500 flex flex-col items-center justify-center shadow-lg shadow-emerald-500/30",children:[s.jsx(dt,{className:"w-12 h-12 text-white/90 mb-2"}),s.jsx("span",{className:"text-white font-bold text-sm",children:".WebP"}),s.jsx("span",{className:"text-white/70 text-xs mt-1",children:"680 Ko"})]}),t[10]=d):d=t[10];let N;t[11]!==l?(N=l>=3&&s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center animate-bounce shadow-lg",children:s.jsx(ue,{className:"w-5 h-5 text-white"})}),t[11]=l,t[12]=N):N=t[12];let i;t[13]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx("div",{className:"absolute inset-0 rounded-xl bg-emerald-500/20 blur-xl -z-10"}),t[13]=i):i=t[13];let x;t[14]!==N?(x=s.jsxs("div",{className:"relative",children:[d,N,i]}),t[14]=N,t[15]=x):x=t[15];let S;t[16]!==x||t[17]!==r?(S=s.jsx("div",{className:r,children:x}),t[16]=x,t[17]=r,t[18]=S):S=t[18];let k;t[19]!==S||t[20]!==m||t[21]!==h||t[22]!==n?(k=s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[m,h,n,S]}),t[19]=S,t[20]=m,t[21]=h,t[22]=n,t[23]=k):k=t[23];const C=`w-2 h-2 rounded-full ${l>=3?"bg-emerald-500":"bg-amber-500 animate-pulse"}`;let F;t[24]!==C?(F=s.jsx("div",{className:C}),t[24]=C,t[25]=F):F=t[25];let j;t[26]!==l||t[27]!==e?(j=l===0&&e("home.hero.animation.ready"),t[26]=l,t[27]=e,t[28]=j):j=t[28];let R;t[29]!==l||t[30]!==e?(R=l===1&&e("home.hero.animation.analyzing"),t[29]=l,t[30]=e,t[31]=R):R=t[31];let M;t[32]!==l||t[33]!==e?(M=l===2&&e("home.hero.animation.converting"),t[32]=l,t[33]=e,t[34]=M):M=t[34];let z;t[35]!==l||t[36]!==e?(z=l===3&&e("home.hero.animation.done"),t[35]=l,t[36]=e,t[37]=z):z=t[37];let D;t[38]!==j||t[39]!==R||t[40]!==M||t[41]!==z?(D=s.jsxs("span",{className:"text-white/70",children:[j,R,M,z]}),t[38]=j,t[39]=R,t[40]=M,t[41]=z,t[42]=D):D=t[42];let E;t[43]!==F||t[44]!==D?(E=s.jsxs("div",{className:"flex items-center gap-2",children:[F,D]}),t[43]=F,t[44]=D,t[45]=E):E=t[45];const o=`font-mono font-bold ${l>=3?"text-emerald-400":"text-white/50"}`,f=l>=3?"-72%":"...";let v;t[46]!==o||t[47]!==f?(v=s.jsx("span",{className:o,children:f}),t[46]=o,t[47]=f,t[48]=v):v=t[48];let p;t[49]!==E||t[50]!==v?(p=s.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-black/50 backdrop-blur-sm border-t border-white/10 p-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[E,v]})}),t[49]=E,t[50]=v,t[51]=p):p=t[51];let P;t[52]!==k||t[53]!==p?(P=s.jsxs("div",{className:"relative aspect-square rounded-3xl overflow-hidden bg-gradient-to-br from-slate-900 to-slate-800 border border-white/10 shadow-2xl",children:[b,k,p]}),t[52]=k,t[53]=p,t[54]=P):P=t[54];let U;t[55]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(Qe,{className:"w-4 h-4 text-cyan-400"}),t[55]=U):U=t[55];let _;t[56]!==e?(_=e("home.hero.badges.fast"),t[56]=e,t[57]=_):_=t[57];let L;t[58]!==_?(L=s.jsx("div",{className:"absolute -left-4 top-1/4 animate-float",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-full px-3 py-1.5 border border-white/20 flex items-center gap-2 shadow-xl",children:[U,s.jsx("span",{className:"text-white text-xs font-medium",children:_})]})}),t[58]=_,t[59]=L):L=t[59];let T;t[60]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(st,{className:"w-4 h-4 text-violet-400"}),t[60]=T):T=t[60];let I;t[61]!==e?(I=e("home.hero.badges.seo"),t[61]=e,t[62]=I):I=t[62];let $;t[63]!==I?($=s.jsx("div",{className:"absolute -right-4 top-1/3 animate-float-delayed",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-full px-3 py-1.5 border border-white/20 flex items-center gap-2 shadow-xl",children:[T,s.jsx("span",{className:"text-white text-xs font-medium",children:I})]})}),t[63]=I,t[64]=$):$=t[64];let H;t[65]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(ke,{className:"w-4 h-4 text-amber-400"}),t[65]=H):H=t[65];let q;t[66]!==e?(q=e("home.hero.badges.ai"),t[66]=e,t[67]=q):q=t[67];let B;t[68]!==q?(B=s.jsx("div",{className:"absolute -left-8 bottom-1/4 animate-float-slow",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-full px-3 py-1.5 border border-white/20 flex items-center gap-2 shadow-xl",children:[H,s.jsx("span",{className:"text-white text-xs font-medium",children:q})]})}),t[68]=q,t[69]=B):B=t[69];let O;return t[70]!==P||t[71]!==L||t[72]!==$||t[73]!==B?(O=s.jsxs("div",{className:"relative w-full max-w-md mx-auto",children:[P,L,$,B]}),t[70]=P,t[71]=L,t[72]=$,t[73]=B,t[74]=O):O=t[74],O}function Pt(t,e){return s.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 animate-ping",style:{left:`${30+Math.random()*40}%`,top:`${30+Math.random()*40}%`,animationDelay:`${e*100}ms`,animationDuration:"1s"}},e)}function zt(t){return(t+1)%4}function Dt(t){const e=de.c(119),{onScrollToUpload:l}=t,{t:a}=pe();let y,u,b,g;e[0]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-background to-background"}),u=s.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-violet-600/20 rounded-full blur-[128px] animate-pulse"}),b=s.jsx("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-cyan-600/15 rounded-full blur-[100px] animate-pulse delay-1000"}),g=s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[400px] bg-violet-500/10 rounded-full blur-[120px]"}),e[0]=y,e[1]=u,e[2]=b,e[3]=g):(y=e[0],u=e[1],b=e[2],g=e[3]);let w;e[4]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsxs("div",{className:"absolute inset-0 -z-10",children:[y,u,b,g,s.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`}})]}),e[4]=w):w=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(Le,{className:"w-3 h-3 mr-1"}),e[5]=m):m=e[5];let h;e[6]!==a?(h=a("home.hero.new"),e[6]=a,e[7]=h):h=e[7];let n;e[8]!==h?(n=s.jsxs(he,{variant:"outline",className:"border-violet-500/50 text-violet-400 bg-violet-500/10 px-3 py-1",children:[m,h]}),e[8]=h,e[9]=n):n=e[9];let r;e[10]!==a?(r=a("home.hero.aiOptimization"),e[10]=a,e[11]=r):r=e[11];let d;e[12]!==r?(d=s.jsx("span",{className:"text-sm text-muted-foreground",children:r}),e[12]=r,e[13]=d):d=e[13];let N;e[14]!==d||e[15]!==n?(N=s.jsxs("div",{className:"inline-flex items-center gap-2 mb-6",children:[n,d]}),e[14]=d,e[15]=n,e[16]=N):N=e[16];let i;e[17]!==a?(i=a("home.hero.headline1"),e[17]=a,e[18]=i):i=e[18];let x;e[19]!==i?(x=s.jsx("span",{className:"text-foreground",children:i}),e[19]=i,e[20]=x):x=e[20];let S;e[21]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("br",{}),e[21]=S):S=e[21];let k;e[22]!==a?(k=a("home.hero.headline2"),e[22]=a,e[23]=k):k=e[23];let C;e[24]!==k?(C=s.jsx("span",{className:"bg-gradient-to-r from-violet-500 via-purple-500 to-cyan-500 bg-clip-text text-transparent",children:k}),e[24]=k,e[25]=C):C=e[25];let F;e[26]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("svg",{className:"absolute -bottom-2 left-0 w-full h-3 text-violet-500/30",viewBox:"0 0 200 12",preserveAspectRatio:"none",children:s.jsx("path",{d:"M0 10 Q 50 0, 100 10 T 200 10",fill:"none",stroke:"currentColor",strokeWidth:"4"})}),e[26]=F):F=e[26];let j;e[27]!==C?(j=s.jsxs("span",{className:"relative",children:[C,F]}),e[27]=C,e[28]=j):j=e[28];let R;e[29]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx("br",{}),e[29]=R):R=e[29];let M;e[30]!==a?(M=a("home.hero.headline3"),e[30]=a,e[31]=M):M=e[31];let z;e[32]!==M?(z=s.jsx("span",{className:"text-foreground",children:M}),e[32]=M,e[33]=z):z=e[33];let D;e[34]!==x||e[35]!==j||e[36]!==z?(D=s.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold tracking-tight mb-6",children:[x,S,j,R,z]}),e[34]=x,e[35]=j,e[36]=z,e[37]=D):D=e[37];let E;if(e[38]!==a){let ye;e[40]===Symbol.for("react.memo_cache_sentinel")?(ye=/<[^>]+>/g,e[40]=ye):ye=e[40],E=a("home.hero.subheadline",{webp:It,avif:At,savings:Lt,alt:Ut}).toString().replace(ye,""),e[38]=a,e[39]=E}else E=e[39];let o;e[41]!==E?(o=s.jsx("p",{className:"text-lg sm:text-xl text-muted-foreground mb-8 max-w-xl mx-auto lg:mx-0",children:E}),e[41]=E,e[42]=o):o=e[42];let f;e[43]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:s.jsx(Se,{end:72,suffix:"%",prefix:"-"})}),e[43]=f):f=e[43];let v;e[44]!==a?(v=a("home.hero.stats.compression"),e[44]=a,e[45]=v):v=e[45];let p;e[46]!==v?(p=s.jsxs("div",{className:"text-center lg:text-left",children:[f,s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:v})]}),e[46]=v,e[47]=p):p=e[47];let P;e[48]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:s.jsx(Se,{end:500,suffix:"+"})}),e[48]=P):P=e[48];let U;e[49]!==a?(U=a("home.hero.stats.users"),e[49]=a,e[50]=U):U=e[50];let _;e[51]!==U?(_=s.jsxs("div",{className:"text-center lg:text-left",children:[P,s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:U})]}),e[51]=U,e[52]=_):_=e[52];let L;e[53]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:s.jsx(Se,{end:100,suffix:"%"})}),e[53]=L):L=e[53];let T;e[54]!==a?(T=a("home.hero.stats.free"),e[54]=a,e[55]=T):T=e[55];let I;e[56]!==T?(I=s.jsxs("div",{className:"text-center lg:text-left",children:[L,s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:T})]}),e[56]=T,e[57]=I):I=e[57];let $;e[58]!==p||e[59]!==_||e[60]!==I?($=s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8 max-w-lg mx-auto lg:mx-0",children:[p,_,I]}),e[58]=p,e[59]=_,e[60]=I,e[61]=$):$=e[61];let H;e[62]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(ut,{className:"w-5 h-5"}),e[62]=H):H=e[62];let q;e[63]!==a?(q=a("home.hero.cta"),e[63]=a,e[64]=q):q=e[64];let B;e[65]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(Fe,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"}),e[65]=B):B=e[65];let O;e[66]!==q?(O=s.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[H,q,B]}),e[66]=q,e[67]=O):O=e[67];let W;e[68]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),e[68]=W):W=e[68];let X;e[69]!==l||e[70]!==O?(X=s.jsxs(G,{size:"lg",onClick:l,className:"group relative overflow-hidden bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white border-0 shadow-lg shadow-violet-500/25 hover:shadow-xl hover:shadow-violet-500/30 transition-all duration-300",children:[O,W]}),e[69]=l,e[70]=O,e[71]=X):X=e[71];let Q;e[72]!==a?(Q=a("home.hero.ctaPro"),e[72]=a,e[73]=Q):Q=e[73];let V;e[74]!==Q?(V=s.jsx(G,{asChild:!0,size:"lg",variant:"outline",className:"border-white/20 hover:bg-white/5",children:s.jsx(Pe,{href:"/tarifs",children:Q})}),e[74]=Q,e[75]=V):V=e[75];let A;e[76]!==X||e[77]!==V?(A=s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-8",children:[X,V]}),e[76]=X,e[77]=V,e[78]=A):A=e[78];let J;e[79]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(ue,{className:"w-4 h-4 text-emerald-500"}),e[79]=J):J=e[79];let Z;e[80]!==a?(Z=a("home.hero.trust.noSignup"),e[80]=a,e[81]=Z):Z=e[81];let K;e[82]!==Z?(K=s.jsxs("div",{className:"flex items-center gap-1.5",children:[J,s.jsx("span",{children:Z})]}),e[82]=Z,e[83]=K):K=e[83];let ge;e[84]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsx(ue,{className:"w-4 h-4 text-emerald-500"}),e[84]=ge):ge=e[84];let te;e[85]!==a?(te=a("home.hero.trust.freeImages"),e[85]=a,e[86]=te):te=e[86];let se;e[87]!==te?(se=s.jsxs("div",{className:"flex items-center gap-1.5",children:[ge,s.jsx("span",{children:te})]}),e[87]=te,e[88]=se):se=e[88];let be;e[89]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsx(ue,{className:"w-4 h-4 text-emerald-500"}),e[89]=be):be=e[89];let ae;e[90]!==a?(ae=a("home.hero.trust.secureData"),e[90]=a,e[91]=ae):ae=e[91];let le;e[92]!==ae?(le=s.jsxs("div",{className:"flex items-center gap-1.5",children:[be,s.jsx("span",{children:ae})]}),e[92]=ae,e[93]=le):le=e[93];let re;e[94]!==K||e[95]!==se||e[96]!==le?(re=s.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-x-6 gap-y-2 text-sm text-muted-foreground",children:[K,se,le]}),e[94]=K,e[95]=se,e[96]=le,e[97]=re):re=e[97];let oe;e[98]!==N||e[99]!==D||e[100]!==o||e[101]!==$||e[102]!==A||e[103]!==re?(oe=s.jsxs("div",{className:"text-center lg:text-left order-2 lg:order-1",children:[N,D,o,$,A,re]}),e[98]=N,e[99]=D,e[100]=o,e[101]=$,e[102]=A,e[103]=re,e[104]=oe):oe=e[104];let je;e[105]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx("div",{className:"order-1 lg:order-2",children:s.jsx(Mt,{})}),e[105]=je):je=e[105];let ne;e[106]!==oe?(ne=s.jsx("div",{className:"container mx-auto px-4 py-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[oe,je]})}),e[106]=oe,e[107]=ne):ne=e[107];let ie;e[108]!==a?(ie=a("home.hero.scroll"),e[108]=a,e[109]=ie):ie=e[109];let ce;e[110]!==ie?(ce=s.jsx("span",{className:"text-xs",children:ie}),e[110]=ie,e[111]=ce):ce=e[111];let ve;e[112]===Symbol.for("react.memo_cache_sentinel")?(ve=s.jsx("div",{className:"w-6 h-10 rounded-full border-2 border-current flex items-start justify-center p-1",children:s.jsx("div",{className:"w-1.5 h-3 bg-current rounded-full animate-bounce"})}),e[112]=ve):ve=e[112];let me;e[113]!==l||e[114]!==ce?(me=s.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2",children:s.jsxs("button",{onClick:l,className:"flex flex-col items-center gap-2 text-muted-foreground hover:text-foreground transition-colors group",children:[ce,ve]})}),e[113]=l,e[114]=ce,e[115]=me):me=e[115];let Ne;return e[116]!==ne||e[117]!==me?(Ne=s.jsxs("section",{className:"relative min-h-[90vh] flex items-center overflow-hidden",children:[w,ne,me]}),e[116]=ne,e[117]=me,e[118]=Ne):Ne=e[118],Ne}function Ut(t){return s.jsx("span",{className:"text-foreground font-medium",children:t})}function Lt(t){return s.jsx("span",{className:"text-emerald-500 font-bold",children:t})}function At(t){return s.jsx("span",{className:"text-foreground font-medium",children:t})}function It(t){return s.jsx("span",{className:"text-foreground font-medium",children:t})}const $t={maxFilesPerBatch:5,maxFileSizeMb:10,maxBatchSizeMb:25,maxWidth:4096,maxHeight:4096},qt={maxFilesPerBatch:20,maxFileSizeMb:10,maxBatchSizeMb:100,maxWidth:8192,maxHeight:8192},Tt=["image/jpeg","image/png","image/gif","image/bmp","image/tiff","image/svg+xml","image/webp"];function Bt(t={}){const{isPro:e=!1,limits:l}=t,y={...e?qt:$t,...l},u=y.maxFileSizeMb*1024*1024,b=y.maxBatchSizeMb*1024*1024,[g,w]=c.useState([]),[m,h]=c.useState([]),[n,r]=c.useState(!1),[d,N]=c.useState(0),[i,x]=c.useState([]),[S,k]=c.useState(null),C=g.reduce((o,f)=>o+f.size,0),F=c.useCallback((o,f)=>Tt.includes(o.type)?o.size>u?`Fichier trop volumineux: ${o.name} (max ${y.maxFileSizeMb} Mo)`:f+o.size>b?`Taille totale du lot dépassée (max ${y.maxBatchSizeMb} Mo)`:null:`Format non supporté: ${o.name}`,[u,b,y.maxFileSizeMb,y.maxBatchSizeMb]),j=c.useCallback(o=>({file:o,preview:URL.createObjectURL(o),name:o.name,size:o.size,type:o.type}),[]),R=c.useCallback(o=>{const f=Array.from(o),v=[],p=[];let P=C;f.forEach(_=>{if(g.length+p.length>=y.maxFilesPerBatch){v.push(`Nombre maximum de fichiers atteint (${y.maxFilesPerBatch})`);return}const L=F(_,P);L?v.push(L):(p.push(_),P+=_.size)});const U=[...new Set(v)];U.length>0&&x(_=>[..._,...U]),p.length>0&&(w(_=>[..._,...p]),h(_=>[..._,...p.map(j)]))},[g.length,C,y.maxFilesPerBatch,F,j]),M=c.useCallback(o=>{w(f=>f.filter((v,p)=>p!==o)),h(f=>(URL.revokeObjectURL(f[o].preview),f.filter((v,p)=>p!==o)))},[]),z=c.useCallback(()=>{m.forEach(o=>URL.revokeObjectURL(o.preview)),w([]),h([]),x([])},[m]),D=c.useCallback(async(o=[])=>{if(g.length===0)throw new Error("Aucun fichier à uploader");r(!0),N(0),x([]);const f=new FormData;g.forEach(v=>{f.append("images[]",v)}),o.forEach(v=>{f.append("keywords[]",v)});try{const v=await fetch("/api/optiseo/images/upload",{method:"POST",credentials:"include",body:f,headers:{Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}});if(!v.ok){const P=await v.json();throw new Error(P.message||"Erreur lors de l'upload")}const p=await v.json();return k(p.batch),N(100),p.batch}catch(v){const p=v instanceof Error?v.message:"Erreur inconnue";throw x(P=>[...P,p]),v}finally{r(!1)}},[g]),E=c.useCallback(()=>{z(),k(null),N(0)},[z]);return{files:g,previews:m,isUploading:n,progress:d,errors:i,batch:S,limits:y,totalSize:C,addFiles:R,removeFile:M,clearFiles:z,upload:D,reset:E}}function Ms(){const{t}=pe(),{auth:e}=Ue().props,l=e?.isPro??!1,a=c.useRef(null),[y,u]=c.useState(!1),[b,g]=c.useState(null),w=c.useCallback(()=>{a.current?.scrollIntoView({behavior:"smooth"})},[]),{files:m,previews:h,isUploading:n,errors:r,limits:d,totalSize:N,addFiles:i,removeFile:x,clearFiles:S,upload:k}=Bt({isPro:l}),{suggestions:C,fetchSuggestions:F}=$e(),[j,R]=c.useState([]);c.useEffect(()=>{(async()=>{try{const f=await fetch("/api/optiseo/usage",{credentials:"include",headers:{Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}});if(f.ok){const v=await f.json();g(v)}}catch(f){console.error("Failed to fetch usage:",f)}})()},[]),c.useEffect(()=>{!l&&b&&b.remaining<=0&&u(!0)},[l,b]),c.useEffect(()=>{r.some(f=>f.toLowerCase().includes("quota")||f.toLowerCase().includes("limite")||f.toLowerCase().includes("dépassé"))&&!l&&u(!0)},[r,l]);const M=c.useCallback(()=>{const o=m[0]?.name;F(o,j)},[m,j,F]),z=c.useCallback(o=>{R(f=>{const v=[...f];return o.forEach(p=>{v.includes(p)||v.push(p)}),v})},[]),D=c.useCallback(async()=>{if(!l&&b&&b.remaining<=0){u(!0);return}try{const o=await k(j);Ie.visit(`/convert/${o.id}`)}catch(o){(o?.message?.toLowerCase().includes("quota")||o?.message?.toLowerCase().includes("limite"))&&u(!0),console.error("Upload error:",o)}},[k,j,l,b]),E=!l&&b&&b.remaining<=0;return s.jsxs(s.Fragment,{children:[s.jsx(lt,{page:"home"}),s.jsx(Rt,{open:y,onOpenChange:u,trigger:"quota"}),s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[s.jsx(et,{}),s.jsx(Dt,{onScrollToUpload:w}),s.jsxs("div",{ref:a,className:"container mx-auto px-4 py-12",children:[b&&!l&&s.jsx("div",{className:"mx-auto mb-8 max-w-4xl",children:s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-muted px-4 py-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:t("home.quota.remaining",{remaining:b.remaining,total:b.quota})}),b.remaining<=2&&s.jsx(he,{variant:"outline",className:"border-amber-500 text-amber-600",children:b.remaining===0?t("home.quota.exhausted"):t("home.quota.almostExhausted")})]}),!l&&s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>u(!0),className:"gap-1",children:[s.jsx(fe,{className:"h-4 w-4 text-amber-500"}),t("pricing.pro.cta")]})]})}),s.jsxs("div",{className:"mx-auto max-w-4xl space-y-8",children:[s.jsxs(ee,{className:E?"opacity-60":"",children:[s.jsxs(Re,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(we,{className:"h-5 w-5"}),t("home.upload.step1")]}),s.jsx(_e,{children:t("home.upload.step1Desc")})]}),s.jsxs(Y,{children:[s.jsx(wt,{onFilesAdded:i,disabled:n||E,maxFiles:d.maxFilesPerBatch,maxFileSizeMb:d.maxFileSizeMb}),E&&s.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg border border-amber-200 bg-amber-50 p-4 dark:border-amber-900 dark:bg-amber-950",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-200",children:t("home.quota.exceeded")}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:t("home.quota.exceededDesc")})]}),s.jsxs(G,{onClick:()=>u(!0),className:"gap-1",children:[s.jsx(fe,{className:"h-4 w-4"}),t("home.quota.viewPro")]})]}),r.length>0&&s.jsx("div",{className:"mt-4 rounded-lg border border-destructive/50 bg-destructive/10 p-3",children:r.map((o,f)=>s.jsx("p",{className:"text-sm text-destructive",children:o},f))}),h.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm font-medium",children:[h.length,"/",d.maxFilesPerBatch," image",h.length>1?"s":"",s.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",(N/1024/1024).toFixed(1),"/",d.maxBatchSizeMb," Mo)"]})]}),s.jsx(G,{variant:"ghost",size:"sm",onClick:S,disabled:n,children:t("home.upload.deleteAll")})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4",children:h.map((o,f)=>s.jsx(He,{preview:o,onRemove:()=>x(f)},f))})]})]})]}),m.length>0&&s.jsxs(ee,{children:[s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(ke,{className:"h-5 w-5"}),t("home.upload.step2")]}),s.jsx(_e,{className:"mt-1.5",children:t("home.upload.step2Desc")})]}),s.jsx(qe,{onKeywordsGenerated:z,disabled:n,isPro:l})]})}),s.jsx(Y,{children:s.jsx(Te,{keywords:j,onChange:R,suggestions:C,onFetchSuggestions:M,disabled:n})})]}),m.length>0&&s.jsx("div",{className:"flex justify-center",children:s.jsx(G,{size:"lg",onClick:D,disabled:n||m.length===0,className:"gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Ee,{className:"h-5 w-5 animate-spin"}),t("home.upload.uploading")]}):s.jsxs(s.Fragment,{children:[t("home.upload.continue"),s.jsx(Fe,{className:"h-5 w-5"})]})})}),s.jsx(bt,{})]}),s.jsxs("div",{className:"mx-auto mt-16 max-w-4xl",children:[s.jsx("h2",{className:"mb-8 text-center text-2xl font-bold",children:t("home.why")}),s.jsxs("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsx(ee,{children:s.jsxs(Y,{className:"pt-6",children:[s.jsx("div",{className:"mb-4 inline-flex rounded-lg bg-primary/10 p-3",children:s.jsx(we,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"mb-2 font-semibold",children:t("home.featureCards.conversion.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t(l?"home.featureCards.conversion.pro":"home.featureCards.conversion.free")})]})}),s.jsx(ee,{children:s.jsxs(Y,{className:"pt-6",children:[s.jsx("div",{className:"mb-4 inline-flex rounded-lg bg-primary/10 p-3",children:s.jsx(Me,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"mb-2 font-semibold",children:t("home.featureCards.bgRemoval.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t(l?"home.featureCards.bgRemoval.pro":"home.featureCards.bgRemoval.free")})]})}),s.jsx(ee,{children:s.jsxs(Y,{className:"pt-6",children:[s.jsx("div",{className:"mb-4 inline-flex rounded-lg bg-primary/10 p-3",children:s.jsx(ke,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"mb-2 font-semibold",children:t("home.featureCards.seo.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t(l?"home.featureCards.seo.pro":"home.featureCards.seo.free")})]})}),s.jsx(ee,{children:s.jsxs(Y,{className:"pt-6",children:[s.jsx("div",{className:"mb-4 inline-flex rounded-lg bg-primary/10 p-3",children:s.jsx(Fe,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"mb-2 font-semibold",children:t("home.featureCards.export.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t(l?"home.featureCards.export.pro":"home.featureCards.export.free")})]})})]})]})]}),s.jsx(tt,{})]}),s.jsx(at,{})]})}export{Ms as default};
