import{r as c,j as s,c as me,f as Ae,L as Pe,e as Ie}from"./app-Ca-1lP6U.js";import{c as de,B as W,b as Re}from"./button-DQmxDJGb.js";import{B as xe}from"./badge-C6Gf6SGw.js";import{a as ke,d as Ce,C as _e,c as V,b as Z}from"./card-CE_uWCMY.js";import{a as Fe,u as qe,A as $e,K as Te}from"./use-keyword-suggestions-BVPks5NV.js";import{P as Oe}from"./progress-YjwLjUeA.js";import{r as Be,I as Ge}from"./image-card-DWmghVCh.js";import{C as he}from"./crown-BMrbQBU-.js";import{S as Ee}from"./scissors-DxWoMp_b.js";import{L as Me}from"./loader-circle-oLLZgQFI.js";import{I as ye}from"./image-wosSS2DU.js";import{X as He}from"./x-b3P3YIRf.js";import{R as Ke}from"./refresh-cw-E1Mwepes.js";import{D as We}from"./download-BqGhB5xH.js";import{C as ue,G as Xe}from"./gauge-CgsATsKo.js";import{d as Qe,e as Ve,c as Ze,b as Je,D as Ye}from"./dialog-Ddo6b63U.js";import{Z as Ue}from"./zap-C1dzlNha.js";import{C as Le}from"./check-DN2gl3-u.js";import{u as ze,N as et,F as tt}from"./footer-DcRlK3h3.js";import{S as we}from"./sparkles-xmWsok1k.js";import{S as st}from"./search-JoHGppWG.js";import{C as at}from"./cookie-consent-CuuXUhoF.js";import{S as rt,a as lt}from"./seo-head-BsS9gMHC.js";/* empty css            */import"./index-Bm2rkCA_.js";import"./label-8-owWrPQ.js";import"./index-C-TfOxr3.js";import"./lock-D1IQ2MKe.js";import"./input-Dqugp59B.js";import"./index-BHG_0skQ.js";import"./index-TtGJoqWm.js";import"./index-TMKe-ljc.js";import"./index-DpqQmGq9.js";import"./index-BBBh_BKV.js";import"./dropdown-menu-gzv1CmV2.js";import"./index-Clrh2rzt.js";import"./shield-C4_23gpi.js";import"./user-Csx6BfGa.js";import"./index-CfiwGkxB.js";import"./settings-he3wfqqm.js";const it=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],De=de("CircleAlert",it);const nt=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ot=de("CloudUpload",nt);const ct=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],mt=de("FileImage",ct);const dt=[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],ut=de("ImageDown",dt);const xt=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],ht=de("MousePointerClick",xt);const ft=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],pt=de("Upload",ft);function gt(){const[t,e]=c.useState(!1),[a,r]=c.useState(0),[x,N]=c.useState(null),[d,b]=c.useState(null),[g,u]=c.useState(null),h=c.useRef(null),l=c.useCallback(async()=>{try{const i=await fetch("/api/optiseo/bg-remove/usage",{credentials:"include",headers:{Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}});if(i.ok){const f=await i.json();u(f)}}catch(i){console.error("Failed to fetch bg removal usage:",i)}},[]),m=c.useCallback(async()=>{try{const i=await fetch("/api/optiseo/bg-remove/increment",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}});if(i.ok)return await l(),!0;const f=await i.json();return N(f.message||"Quota dépassé"),!1}catch(i){return console.error("Failed to increment usage:",i),!1}},[l]),k=c.useCallback(async i=>{if(e(!0),r(0),N(null),b(null),h.current&&(URL.revokeObjectURL(h.current),h.current=null),!await m())return e(!1),null;try{const y=await Be(i,{progress:(M,D,R)=>{if(R>0){const z=Math.round(D/R*100);r(z)}},output:{format:"image/png",quality:1}}),w=URL.createObjectURL(y);h.current=w;const v=`${i.name.replace(/\.[^/.]+$/,"")}-no-bg.png`,F={url:w,filename:v,blob:y};return b(F),F}catch(_){const y=_ instanceof Error?_.message:"Erreur lors du traitement";return N(y),null}finally{e(!1),r(100)}},[m]),j=c.useCallback(()=>{e(!1),r(0),N(null),b(null),h.current&&(URL.revokeObjectURL(h.current),h.current=null)},[]);return{isProcessing:t,progress:a,error:x,result:d,usage:g,removeBackground:k,fetchUsage:l,incrementUsage:m,reset:j}}function bt({originalSrc:t,processedSrc:e,originalAlt:a="Image originale",processedAlt:r="Arriere-plan supprime",className:x=""}){const[N,d]=c.useState(50),b=c.useRef(null),g=c.useRef(!1),u=c.useCallback(i=>{if(!b.current)return;const f=b.current.getBoundingClientRect(),_=i-f.left,y=Math.max(0,Math.min(100,_/f.width*100));d(y)},[]),h=c.useCallback(()=>{g.current=!0},[]),l=c.useCallback(()=>{g.current=!1},[]),m=c.useCallback(i=>{g.current&&u(i.clientX)},[u]),k=c.useCallback(i=>{i.touches.length>0&&u(i.touches[0].clientX)},[u]),j=c.useCallback(i=>{d(Number(i.target.value))},[]);return s.jsxs("div",{ref:b,className:`relative overflow-hidden rounded-lg select-none ${x}`,onMouseMove:m,onMouseUp:l,onMouseLeave:l,onTouchMove:k,onTouchEnd:l,children:[s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
                        linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
                        linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
                        linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
                        linear-gradient(-45deg, transparent 75%, #e0e0e0 75%)
                    `,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"}}),s.jsx("img",{src:e,alt:r,className:"relative w-full h-auto block",draggable:!1}),s.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{width:`${N}%`},children:s.jsx("img",{src:t,alt:a,className:"w-full h-full object-cover",style:{width:b.current?.offsetWidth||"100%",maxWidth:"none"},draggable:!1})}),s.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white shadow-lg",style:{left:`${N}%`,transform:"translateX(-50%)"},children:s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center cursor-ew-resize border-2 border-gray-200 hover:border-primary transition-colors",onMouseDown:h,onTouchStart:h,children:s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})})})}),s.jsx("input",{type:"range",min:"0",max:"100",step:"0.1",value:N,onChange:j,className:"absolute inset-0 w-full h-full opacity-0 cursor-ew-resize","aria-label":"Comparaison avant/apres"}),s.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 bg-black/60 text-white text-xs rounded backdrop-blur-sm",children:"Avant"}),s.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 bg-black/60 text-white text-xs rounded backdrop-blur-sm",children:"Apres"})]})}function jt(){const t=me.c(62),{auth:e}=Ae().props,a=e?.isPro??!1,r=c.useRef(null),[x,N]=c.useState(null),[d,b]=c.useState(null),{isProcessing:g,progress:u,error:h,result:l,usage:m,removeBackground:k,fetchUsage:j,reset:i}=gt();let f,_;t[0]!==j?(f=()=>{j()},_=[j],t[0]=j,t[1]=f,t[2]=_):(f=t[1],_=t[2]),c.useEffect(f,_);let y;t[3]!==i?(y=H=>{const U=H.target.files?.[0];U&&(N(U),b(URL.createObjectURL(U)),i())},t[3]=i,t[4]=y):y=t[4];const w=y;let E;t[5]!==i?(E=H=>{H.preventDefault();const U=H.dataTransfer.files[0];U&&U.type.startsWith("image/")&&(N(U),b(URL.createObjectURL(U)),i())},t[5]=i,t[6]=E):E=t[6];const v=E;let F;t[7]!==k||t[8]!==x?(F=async()=>{x&&await k(x)},t[7]=k,t[8]=x,t[9]=F):F=t[9];const M=F;let D;t[10]!==i?(D=()=>{N(null),b(null),i(),r.current&&(r.current.value="")},t[10]=i,t[11]=D):D=t[11];const R=D;let z;t[12]!==l?(z=()=>{if(l?.blob){const H=URL.createObjectURL(l.blob),U=document.createElement("a");U.href=H,U.download=l.filename,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(H)}},t[12]=l,t[13]=z):z=t[13];const n=z,o=(m?.remaining??0)<=0;let S;t[14]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsxs("div",{children:[s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(Ee,{className:"h-5 w-5"}),"Suppression d'arrière-plan"]}),s.jsx(Ce,{className:"mt-1.5",children:"Supprimez l'arrière-plan de vos images en un clic"})]}),t[14]=S):S=t[14];let P;t[15]!==a||t[16]!==m?(P=m&&s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(xe,{variant:a?"default":"secondary",children:a?"Pro":"Gratuit"})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[m.remaining,"/",m.quota," restant",m.remaining>1?"s":"",m.period==="day"?" aujourd'hui":" ce mois"]})]}),t[15]=a,t[16]=m,t[17]=P):P=t[17];let A;t[18]!==P?(A=s.jsx(_e,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[S,P]})}),t[18]=P,t[19]=A):A=t[19];let C;t[20]!==a||t[21]!==o||t[22]!==m?.period?(C=o&&s.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-amber-200 bg-amber-50 p-4 dark:border-amber-900 dark:bg-amber-950",children:[s.jsx(De,{className:"h-5 w-5 text-amber-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:["Quota ",m?.period==="day"?"journalier":"mensuel"," atteint"]}),s.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:a?"Votre quota sera réinitialisé le mois prochain.":"Passez au plan Pro pour 500 suppressions par mois."})]}),!a&&s.jsx(Pe,{href:"/billing",children:s.jsxs(W,{size:"sm",className:"gap-1",children:[s.jsx(he,{className:"h-4 w-4"}),"Pro"]})})]}),t[20]=a,t[21]=o,t[22]=m?.period,t[23]=C):C=t[23];let q;t[24]!==v||t[25]!==w||t[26]!==o||t[27]!==l||t[28]!==x?(q=!x&&!l&&s.jsxs("div",{onClick:()=>!o&&r.current?.click(),onDrop:v,onDragOver:vt,className:`relative flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-8 transition-colors ${o?"cursor-not-allowed border-muted bg-muted/50":"cursor-pointer border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/50"}`,children:[s.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:w,className:"hidden",disabled:o}),s.jsx(pt,{className:"h-10 w-10 text-muted-foreground mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Glissez une image ou cliquez pour sélectionner"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG, WebP jusqu'à 25 Mo"})]}),t[24]=v,t[25]=w,t[26]=o,t[27]=l,t[28]=x,t[29]=q):q=t[29];let $;t[30]!==g||t[31]!==d||t[32]!==u||t[33]!==l||t[34]!==x?($=x&&!l&&s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Original"}),s.jsx("div",{className:"relative aspect-square overflow-hidden rounded-lg border bg-muted",children:d&&s.jsx("img",{src:d,alt:"Original",className:"h-full w-full object-contain"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Sans arriere-plan"}),s.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-lg border",style:{backgroundImage:`linear-gradient(45deg, #e5e7eb 25%, transparent 25%),
                                            linear-gradient(-45deg, #e5e7eb 25%, transparent 25%),
                                            linear-gradient(45deg, transparent 75%, #e5e7eb 75%),
                                            linear-gradient(-45deg, transparent 75%, #e5e7eb 75%)`,backgroundSize:"16px 16px",backgroundPosition:"0 0, 0 8px, 8px -8px, -8px 0px"},children:[g&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80",children:s.jsxs("div",{className:"text-center w-full px-6",children:[s.jsx(Me,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:u<30?"Chargement du modele IA...":u<90?"Analyse de l'image...":"Finalisation..."}),s.jsx(Oe,{value:u,className:"mt-3 h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[u,"%"]})]})}),!g&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(ye,{className:"h-10 w-10 text-muted-foreground/50"})})]})]})]}),t[30]=g,t[31]=d,t[32]=u,t[33]=l,t[34]=x,t[35]=$):$=t[35];let T;t[36]!==d||t[37]!==l?(T=l&&d&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-center text-muted-foreground",children:"Faites glisser le curseur pour comparer"}),s.jsx(bt,{originalSrc:d,processedSrc:l.url,originalAlt:"Image originale",processedAlt:"Arriere-plan supprime",className:"max-w-lg mx-auto"})]}),t[36]=d,t[37]=l,t[38]=T):T=t[38];let L;t[39]!==h?(L=h&&s.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/50 bg-destructive/10 p-3",children:[s.jsx(De,{className:"h-4 w-4 text-destructive"}),s.jsx("p",{className:"text-sm text-destructive",children:h})]}),t[39]=h,t[40]=L):L=t[40];let O;t[41]!==R||t[42]!==n||t[43]!==M||t[44]!==g||t[45]!==o||t[46]!==l||t[47]!==x?(O=x&&s.jsx("div",{className:"flex justify-center gap-3",children:l?s.jsxs(s.Fragment,{children:[s.jsxs(W,{variant:"outline",onClick:R,children:[s.jsx(Ke,{className:"mr-2 h-4 w-4"}),"Nouvelle image"]}),s.jsxs(W,{onClick:n,children:[s.jsx(We,{className:"mr-2 h-4 w-4"}),"Telecharger PNG"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(W,{variant:"outline",onClick:R,children:[s.jsx(He,{className:"mr-2 h-4 w-4"}),"Annuler"]}),s.jsx(W,{onClick:M,disabled:g||o,children:g?s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}),"Traitement..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Supprimer l'arriere-plan"]})})]})}),t[41]=R,t[42]=n,t[43]=M,t[44]=g,t[45]=o,t[46]=l,t[47]=x,t[48]=O):O=t[48];let I;t[49]!==l?(I=l&&s.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-green-200 bg-green-50 p-3 dark:border-green-900 dark:bg-green-950",children:[s.jsx(ue,{className:"h-4 w-4 text-green-600"}),s.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Arrière-plan supprimé avec succès"})]}),t[49]=l,t[50]=I):I=t[50];let G;t[51]!==C||t[52]!==q||t[53]!==$||t[54]!==T||t[55]!==L||t[56]!==O||t[57]!==I?(G=s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[C,q,$,T,L,O,I]})}),t[51]=C,t[52]=q,t[53]=$,t[54]=T,t[55]=L,t[56]=O,t[57]=I,t[58]=G):G=t[58];let B;return t[59]!==G||t[60]!==A?(B=s.jsxs(Z,{children:[A,G]}),t[59]=G,t[60]=A,t[61]=B):B=t[61],B}function vt(t){return t.preventDefault()}const Nt=[".jpg",".jpeg",".png",".gif",".webp",".bmp",".tiff",".svg"],yt=5,wt=10;function St(t){const e=me.c(52),{onFilesAdded:a,acceptedFormats:r,maxFiles:x,maxFileSizeMb:N,disabled:d,className:b}=t,g=r===void 0?Nt:r,u=x===void 0?yt:x,h=N===void 0?wt:N,l=d===void 0?!1:d,[m,k]=c.useState(!1);let j;e[0]!==l?(j=K=>{K.preventDefault(),K.stopPropagation(),l||k(!0)},e[0]=l,e[1]=j):j=e[1];const i=j;let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=K=>{K.preventDefault(),K.stopPropagation(),k(!1)},e[2]=f):f=e[2];const _=f,y=Ct;let w;e[3]!==l||e[4]!==a?(w=K=>{if(K.preventDefault(),K.stopPropagation(),k(!1),l)return;const Q=Array.from(K.dataTransfer.files);Q.length>0&&a(Q)},e[3]=l,e[4]=a,e[5]=w):w=e[5];const E=w;let v;e[6]!==a?(v=K=>{K.target.files&&K.target.files.length>0&&(a(Array.from(K.target.files)),K.target.value="")},e[6]=a,e[7]=v):v=e[7];const F=v;let M;e[8]!==h?(M=()=>`${h} Mo`,e[8]=h,e[9]=M):M=e[9];const D=M,R=m?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50",z=l&&"cursor-not-allowed opacity-50";let n;e[10]!==b||e[11]!==R||e[12]!==z?(n=Re("relative rounded-lg border-2 border-dashed transition-colors",R,z,b),e[10]=b,e[11]=R,e[12]=z,e[13]=n):n=e[13];let p;e[14]!==g?(p=g.join(","),e[14]=g,e[15]=p):p=e[15];let o;e[16]!==l||e[17]!==F||e[18]!==p?(o=s.jsx("input",{type:"file",multiple:!0,accept:p,onChange:F,disabled:l,className:"absolute inset-0 cursor-pointer opacity-0 disabled:cursor-not-allowed"}),e[16]=l,e[17]=F,e[18]=p,e[19]=o):o=e[19];const S=m?"bg-primary/10":"bg-muted";let P;e[20]!==S?(P=Re("mb-4 rounded-full p-4",S),e[20]=S,e[21]=P):P=e[21];let A;e[22]!==m?(A=m?s.jsx(ot,{className:"h-10 w-10 text-primary"}):s.jsx(ye,{className:"h-10 w-10 text-muted-foreground"}),e[22]=m,e[23]=A):A=e[23];let C;e[24]!==P||e[25]!==A?(C=s.jsx("div",{className:P,children:A}),e[24]=P,e[25]=A,e[26]=C):C=e[26];const q=m?"Déposez vos images ici":"Glissez-déposez vos images";let $;e[27]!==q?($=s.jsx("h3",{className:"mb-2 text-lg font-semibold",children:q}),e[27]=q,e[28]=$):$=e[28];let T;e[29]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"ou cliquez pour sélectionner des fichiers"}),e[29]=T):T=e[29];let L;e[30]!==g?(L=g.map(kt).join(", "),e[30]=g,e[31]=L):L=e[31];let O;e[32]!==L?(O=s.jsx("span",{className:"rounded-full bg-muted px-2 py-1",children:L}),e[32]=L,e[33]=O):O=e[33];let I;e[34]!==u?(I=s.jsxs("span",{className:"rounded-full bg-muted px-2 py-1",children:["Max ",u," fichiers"]}),e[34]=u,e[35]=I):I=e[35];const G=D();let B;e[36]!==G?(B=s.jsxs("span",{className:"rounded-full bg-muted px-2 py-1",children:["Max ",G," par fichier"]}),e[36]=G,e[37]=B):B=e[37];let H;e[38]!==O||e[39]!==I||e[40]!==B?(H=s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[O,I,B]}),e[38]=O,e[39]=I,e[40]=B,e[41]=H):H=e[41];let U;e[42]!==C||e[43]!==$||e[44]!==H?(U=s.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-12 text-center",children:[C,$,T,H]}),e[42]=C,e[43]=$,e[44]=H,e[45]=U):U=e[45];let X;return e[46]!==i||e[47]!==E||e[48]!==n||e[49]!==o||e[50]!==U?(X=s.jsxs("div",{className:n,onDragEnter:i,onDragLeave:_,onDragOver:y,onDrop:E,children:[o,U]}),e[46]=i,e[47]=E,e[48]=n,e[49]=o,e[50]=U,e[51]=X):X=e[51],X}function kt(t){return t.replace(".","").toUpperCase()}function Ct(t){t.preventDefault(),t.stopPropagation()}const _t=["5 images par jour","3 suppressions d'arrière-plan par jour","Conversion WebP/AVIF","SEO basique","Export ZIP uniquement","Fichiers conservés 1h"],Ft=["500 images par mois","500 suppressions d'arrière-plan par mois","Conversion WebP/AVIF","Suggestions IA personnalisées","Historique des conversions","Export ZIP, CSV, JSON, HTML","Fichiers conservés 24h","Dimensions max 8192×8192","Support prioritaire"];function Et(t){const e=me.c(26),{open:a,onOpenChange:r,trigger:x,featureName:N}=t,d=x===void 0?"quota":x;let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(Ue,{className:"h-6 w-6 text-amber-500"}),e[0]=b):b=e[0];const g=d==="quota"?"Quota journalier atteint":`Débloquez ${N||"cette fonctionnalité"}`;let u;e[1]!==g?(u=s.jsxs(Qe,{className:"flex items-center gap-2 text-xl",children:[b,g]}),e[1]=g,e[2]=u):u=e[2];const h=d==="quota"?"Vous avez utilisé vos 5 conversions gratuites aujourd'hui. Passez au plan Pro pour continuer sans limite !":"Cette fonctionnalité est réservée aux abonnés Pro.";let l;e[3]!==h?(l=s.jsx(Ve,{children:h}),e[3]=h,e[4]=l):l=e[4];let m;e[5]!==u||e[6]!==l?(m=s.jsxs(Ze,{children:[u,l]}),e[5]=u,e[6]=l,e[7]=m):m=e[7];let k;e[8]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold",children:"Gratuit"}),s.jsx(xe,{variant:"secondary",children:"Actuel"})]}),e[8]=k):k=e[8];let j;e[9]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsxs("p",{className:"mb-4 text-2xl font-bold",children:["0€",s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/mois"})]}),e[9]=j):j=e[9];let i;e[10]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsxs("div",{className:"rounded-lg border p-4",children:[k,j,s.jsx("ul",{className:"space-y-2 text-sm",children:_t.map(Pt)})]}),e[10]=i):i=e[10];let f;e[11]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("h3",{className:"flex items-center gap-1 font-semibold",children:[s.jsx(he,{className:"h-4 w-4 text-amber-500"}),"Pro"]}),s.jsx(xe,{className:"bg-amber-500 hover:bg-amber-600",children:"Recommandé"})]}),e[11]=f):f=e[11];let _;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsxs("p",{className:"mb-4 text-2xl font-bold",children:["9,99€",s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/mois"})]}),e[12]=_):_=e[12];let y;e[13]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsxs("div",{className:"grid gap-4 py-4 sm:grid-cols-2",children:[i,s.jsxs("div",{className:"rounded-lg border-2 border-primary bg-primary/5 p-4",children:[f,_,s.jsx("ul",{className:"space-y-2 text-sm",children:Ft.map(Mt)})]})]}),e[13]=y):y=e[13];let w;e[14]!==r?(w=s.jsx(W,{variant:"outline",onClick:()=>r(!1),children:"Plus tard"}),e[14]=r,e[15]=w):w=e[15];let E;e[16]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(Pe,{href:"/billing",children:s.jsxs(W,{className:"w-full gap-2 sm:w-auto",children:[s.jsx(he,{className:"h-4 w-4"}),"Passer au Pro"]})}),e[16]=E):E=e[16];let v;e[17]!==w?(v=s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:[w,E]}),e[17]=w,e[18]=v):v=e[18];let F;e[19]!==v||e[20]!==m?(F=s.jsxs(Je,{className:"sm:max-w-[500px]",children:[m,y,v]}),e[19]=v,e[20]=m,e[21]=F):F=e[21];let M;return e[22]!==r||e[23]!==a||e[24]!==F?(M=s.jsx(Ye,{open:a,onOpenChange:r,children:F}),e[22]=r,e[23]=a,e[24]=F,e[25]=M):M=e[25],M}function Mt(t,e){return s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Le,{className:"mt-0.5 h-4 w-4 shrink-0 text-primary"}),s.jsx("span",{children:t})]},e)}function Pt(t,e){return s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Le,{className:"mt-0.5 h-4 w-4 shrink-0 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:t})]},e)}function Se(t){const e=me.c(9),{end:a,duration:r,suffix:x,prefix:N}=t,d=r===void 0?2e3:r,b=x===void 0?"":x,g=N===void 0?"":N,[u,h]=c.useState(0),[l,m]=c.useState(!1),k=c.useRef(null);let j,i;e[0]!==d||e[1]!==a||e[2]!==l?(j=()=>{const _=new IntersectionObserver(y=>{if(y[0].isIntersecting&&!l){m(!0);let w=0;const E=a/(d/16),v=setInterval(()=>{w=w+E,w>=a?(h(a),clearInterval(v)):h(Math.floor(w))},16)}},{threshold:.5});return k.current&&_.observe(k.current),()=>_.disconnect()},i=[a,d,l],e[0]=d,e[1]=a,e[2]=l,e[3]=j,e[4]=i):(j=e[3],i=e[4]),c.useEffect(j,i);let f;return e[5]!==u||e[6]!==g||e[7]!==b?(f=s.jsxs("span",{ref:k,children:[g,u,b]}),e[5]=u,e[6]=g,e[7]=b,e[8]=f):f=e[8],f}function zt(){const t=me.c(75),{t:e}=ze(),[a,r]=c.useState(0);let x,N;t[0]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{const H=setInterval(()=>{r(Dt)},2500);return()=>clearInterval(H)},N=[],t[0]=x,t[1]=N):(x=t[0],N=t[1]),c.useEffect(x,N);let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
                            linear-gradient(to right, rgba(255,255,255,0.1) 1px, transparent 1px),
                            linear-gradient(to bottom, rgba(255,255,255,0.1) 1px, transparent 1px)
                        `,backgroundSize:"20px 20px"}}),t[2]=d):d=t[2];const b=`absolute transition-all duration-700 ease-out ${a>=1?"scale-75 -translate-x-16 opacity-50":"scale-100 translate-x-0 opacity-100"}`;let g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"w-32 h-40 rounded-xl bg-gradient-to-br from-orange-500 to-red-600 flex flex-col items-center justify-center shadow-lg shadow-orange-500/30",children:[s.jsx(mt,{className:"w-12 h-12 text-white/90 mb-2"}),s.jsx("span",{className:"text-white font-bold text-sm",children:".JPEG"}),s.jsx("span",{className:"text-white/70 text-xs mt-1",children:"2.4 Mo"})]}),s.jsx("div",{className:"absolute inset-0 rounded-xl bg-orange-500/20 blur-xl -z-10"})]}),t[3]=g):g=t[3];let u;t[4]!==b?(u=s.jsx("div",{className:b,children:g}),t[4]=b,t[5]=u):u=t[5];let h;t[6]!==a?(h=a>=1&&a<3&&s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(12)].map(Rt)}),t[6]=a,t[7]=h):h=t[7];let l;t[8]!==a?(l=a>=1&&s.jsx("div",{className:`transition-all duration-500 ${a>=2?"opacity-100":"opacity-50"}`,children:s.jsxs("div",{className:"relative",children:[s.jsx(we,{className:`w-8 h-8 text-violet-400 ${a===1||a===2?"animate-spin":""}`}),s.jsx("div",{className:"absolute inset-0 bg-violet-500/30 blur-xl"})]})}),t[8]=a,t[9]=l):l=t[9];const m=`absolute transition-all duration-700 ease-out ${a>=2?"scale-100 translate-x-16 opacity-100":"scale-50 translate-x-8 opacity-0"}`;let k;t[10]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsxs("div",{className:"w-32 h-40 rounded-xl bg-gradient-to-br from-emerald-500 to-cyan-500 flex flex-col items-center justify-center shadow-lg shadow-emerald-500/30",children:[s.jsx(ut,{className:"w-12 h-12 text-white/90 mb-2"}),s.jsx("span",{className:"text-white font-bold text-sm",children:".WebP"}),s.jsx("span",{className:"text-white/70 text-xs mt-1",children:"680 Ko"})]}),t[10]=k):k=t[10];let j;t[11]!==a?(j=a>=3&&s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center animate-bounce shadow-lg",children:s.jsx(ue,{className:"w-5 h-5 text-white"})}),t[11]=a,t[12]=j):j=t[12];let i;t[13]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx("div",{className:"absolute inset-0 rounded-xl bg-emerald-500/20 blur-xl -z-10"}),t[13]=i):i=t[13];let f;t[14]!==j?(f=s.jsxs("div",{className:"relative",children:[k,j,i]}),t[14]=j,t[15]=f):f=t[15];let _;t[16]!==f||t[17]!==m?(_=s.jsx("div",{className:m,children:f}),t[16]=f,t[17]=m,t[18]=_):_=t[18];let y;t[19]!==_||t[20]!==u||t[21]!==h||t[22]!==l?(y=s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[u,h,l,_]}),t[19]=_,t[20]=u,t[21]=h,t[22]=l,t[23]=y):y=t[23];const w=`w-2 h-2 rounded-full ${a>=3?"bg-emerald-500":"bg-amber-500 animate-pulse"}`;let E;t[24]!==w?(E=s.jsx("div",{className:w}),t[24]=w,t[25]=E):E=t[25];let v;t[26]!==a||t[27]!==e?(v=a===0&&e("home.hero.animation.ready"),t[26]=a,t[27]=e,t[28]=v):v=t[28];let F;t[29]!==a||t[30]!==e?(F=a===1&&e("home.hero.animation.analyzing"),t[29]=a,t[30]=e,t[31]=F):F=t[31];let M;t[32]!==a||t[33]!==e?(M=a===2&&e("home.hero.animation.converting"),t[32]=a,t[33]=e,t[34]=M):M=t[34];let D;t[35]!==a||t[36]!==e?(D=a===3&&e("home.hero.animation.done"),t[35]=a,t[36]=e,t[37]=D):D=t[37];let R;t[38]!==v||t[39]!==F||t[40]!==M||t[41]!==D?(R=s.jsxs("span",{className:"text-white/70",children:[v,F,M,D]}),t[38]=v,t[39]=F,t[40]=M,t[41]=D,t[42]=R):R=t[42];let z;t[43]!==E||t[44]!==R?(z=s.jsxs("div",{className:"flex items-center gap-2",children:[E,R]}),t[43]=E,t[44]=R,t[45]=z):z=t[45];const n=`font-mono font-bold ${a>=3?"text-emerald-400":"text-white/50"}`,p=a>=3?"-72%":"...";let o;t[46]!==n||t[47]!==p?(o=s.jsx("span",{className:n,children:p}),t[46]=n,t[47]=p,t[48]=o):o=t[48];let S;t[49]!==z||t[50]!==o?(S=s.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-black/50 backdrop-blur-sm border-t border-white/10 p-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[z,o]})}),t[49]=z,t[50]=o,t[51]=S):S=t[51];let P;t[52]!==y||t[53]!==S?(P=s.jsxs("div",{className:"relative aspect-square rounded-3xl overflow-hidden bg-gradient-to-br from-slate-900 to-slate-800 border border-white/10 shadow-2xl",children:[d,y,S]}),t[52]=y,t[53]=S,t[54]=P):P=t[54];let A;t[55]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(Xe,{className:"w-4 h-4 text-cyan-400"}),t[55]=A):A=t[55];let C;t[56]!==e?(C=e("home.hero.badges.fast"),t[56]=e,t[57]=C):C=t[57];let q;t[58]!==C?(q=s.jsx("div",{className:"absolute -left-4 top-1/4 animate-float",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-full px-3 py-1.5 border border-white/20 flex items-center gap-2 shadow-xl",children:[A,s.jsx("span",{className:"text-white text-xs font-medium",children:C})]})}),t[58]=C,t[59]=q):q=t[59];let $;t[60]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(st,{className:"w-4 h-4 text-violet-400"}),t[60]=$):$=t[60];let T;t[61]!==e?(T=e("home.hero.badges.seo"),t[61]=e,t[62]=T):T=t[62];let L;t[63]!==T?(L=s.jsx("div",{className:"absolute -right-4 top-1/3 animate-float-delayed",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-full px-3 py-1.5 border border-white/20 flex items-center gap-2 shadow-xl",children:[$,s.jsx("span",{className:"text-white text-xs font-medium",children:T})]})}),t[63]=T,t[64]=L):L=t[64];let O;t[65]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(we,{className:"w-4 h-4 text-amber-400"}),t[65]=O):O=t[65];let I;t[66]!==e?(I=e("home.hero.badges.ai"),t[66]=e,t[67]=I):I=t[67];let G;t[68]!==I?(G=s.jsx("div",{className:"absolute -left-8 bottom-1/4 animate-float-slow",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-full px-3 py-1.5 border border-white/20 flex items-center gap-2 shadow-xl",children:[O,s.jsx("span",{className:"text-white text-xs font-medium",children:I})]})}),t[68]=I,t[69]=G):G=t[69];let B;return t[70]!==P||t[71]!==q||t[72]!==L||t[73]!==G?(B=s.jsxs("div",{className:"relative w-full max-w-md mx-auto",children:[P,q,L,G]}),t[70]=P,t[71]=q,t[72]=L,t[73]=G,t[74]=B):B=t[74],B}function Rt(t,e){return s.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 animate-ping",style:{left:`${30+Math.random()*40}%`,top:`${30+Math.random()*40}%`,animationDelay:`${e*100}ms`,animationDuration:"1s"}},e)}function Dt(t){return(t+1)%4}function At(t){const e=me.c(119),{onScrollToUpload:a}=t,{t:r}=ze();let x,N,d,b;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-background to-background"}),N=s.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-violet-600/20 rounded-full blur-[128px] animate-pulse"}),d=s.jsx("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-cyan-600/15 rounded-full blur-[100px] animate-pulse delay-1000"}),b=s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[400px] bg-violet-500/10 rounded-full blur-[120px]"}),e[0]=x,e[1]=N,e[2]=d,e[3]=b):(x=e[0],N=e[1],d=e[2],b=e[3]);let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsxs("div",{className:"absolute inset-0 -z-10",children:[x,N,d,b,s.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`}})]}),e[4]=g):g=e[4];let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(Ue,{className:"w-3 h-3 mr-1"}),e[5]=u):u=e[5];let h;e[6]!==r?(h=r("home.hero.new"),e[6]=r,e[7]=h):h=e[7];let l;e[8]!==h?(l=s.jsxs(xe,{variant:"outline",className:"border-violet-500/50 text-violet-400 bg-violet-500/10 px-3 py-1",children:[u,h]}),e[8]=h,e[9]=l):l=e[9];let m;e[10]!==r?(m=r("home.hero.aiOptimization"),e[10]=r,e[11]=m):m=e[11];let k;e[12]!==m?(k=s.jsx("span",{className:"text-sm text-muted-foreground",children:m}),e[12]=m,e[13]=k):k=e[13];let j;e[14]!==k||e[15]!==l?(j=s.jsxs("div",{className:"inline-flex items-center gap-2 mb-6",children:[l,k]}),e[14]=k,e[15]=l,e[16]=j):j=e[16];let i;e[17]!==r?(i=r("home.hero.headline1"),e[17]=r,e[18]=i):i=e[18];let f;e[19]!==i?(f=s.jsx("span",{className:"text-foreground",children:i}),e[19]=i,e[20]=f):f=e[20];let _;e[21]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("br",{}),e[21]=_):_=e[21];let y;e[22]!==r?(y=r("home.hero.headline2"),e[22]=r,e[23]=y):y=e[23];let w;e[24]!==y?(w=s.jsx("span",{className:"bg-gradient-to-r from-violet-500 via-purple-500 to-cyan-500 bg-clip-text text-transparent",children:y}),e[24]=y,e[25]=w):w=e[25];let E;e[26]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("svg",{className:"absolute -bottom-2 left-0 w-full h-3 text-violet-500/30",viewBox:"0 0 200 12",preserveAspectRatio:"none",children:s.jsx("path",{d:"M0 10 Q 50 0, 100 10 T 200 10",fill:"none",stroke:"currentColor",strokeWidth:"4"})}),e[26]=E):E=e[26];let v;e[27]!==w?(v=s.jsxs("span",{className:"relative",children:[w,E]}),e[27]=w,e[28]=v):v=e[28];let F;e[29]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("br",{}),e[29]=F):F=e[29];let M;e[30]!==r?(M=r("home.hero.headline3"),e[30]=r,e[31]=M):M=e[31];let D;e[32]!==M?(D=s.jsx("span",{className:"text-foreground",children:M}),e[32]=M,e[33]=D):D=e[33];let R;e[34]!==f||e[35]!==v||e[36]!==D?(R=s.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold tracking-tight mb-6",children:[f,_,v,F,D]}),e[34]=f,e[35]=v,e[36]=D,e[37]=R):R=e[37];let z;if(e[38]!==r){let Ne;e[40]===Symbol.for("react.memo_cache_sentinel")?(Ne=/<[^>]+>/g,e[40]=Ne):Ne=e[40],z=r("home.hero.subheadline",{webp:qt,avif:It,savings:Lt,alt:Ut}).toString().replace(Ne,""),e[38]=r,e[39]=z}else z=e[39];let n;e[41]!==z?(n=s.jsx("p",{className:"text-lg sm:text-xl text-muted-foreground mb-8 max-w-xl mx-auto lg:mx-0",children:z}),e[41]=z,e[42]=n):n=e[42];let p;e[43]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:s.jsx(Se,{end:72,suffix:"%",prefix:"-"})}),e[43]=p):p=e[43];let o;e[44]!==r?(o=r("home.hero.stats.compression"),e[44]=r,e[45]=o):o=e[45];let S;e[46]!==o?(S=s.jsxs("div",{className:"text-center lg:text-left",children:[p,s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:o})]}),e[46]=o,e[47]=S):S=e[47];let P;e[48]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:s.jsx(Se,{end:500,suffix:"+"})}),e[48]=P):P=e[48];let A;e[49]!==r?(A=r("home.hero.stats.users"),e[49]=r,e[50]=A):A=e[50];let C;e[51]!==A?(C=s.jsxs("div",{className:"text-center lg:text-left",children:[P,s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:A})]}),e[51]=A,e[52]=C):C=e[52];let q;e[53]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:s.jsx(Se,{end:100,suffix:"%"})}),e[53]=q):q=e[53];let $;e[54]!==r?($=r("home.hero.stats.free"),e[54]=r,e[55]=$):$=e[55];let T;e[56]!==$?(T=s.jsxs("div",{className:"text-center lg:text-left",children:[q,s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:$})]}),e[56]=$,e[57]=T):T=e[57];let L;e[58]!==S||e[59]!==C||e[60]!==T?(L=s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8 max-w-lg mx-auto lg:mx-0",children:[S,C,T]}),e[58]=S,e[59]=C,e[60]=T,e[61]=L):L=e[61];let O;e[62]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(ht,{className:"w-5 h-5"}),e[62]=O):O=e[62];let I;e[63]!==r?(I=r("home.hero.cta"),e[63]=r,e[64]=I):I=e[64];let G;e[65]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(Fe,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"}),e[65]=G):G=e[65];let B;e[66]!==I?(B=s.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[O,I,G]}),e[66]=I,e[67]=B):B=e[67];let H;e[68]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),e[68]=H):H=e[68];let U;e[69]!==a||e[70]!==B?(U=s.jsxs(W,{size:"lg",onClick:a,className:"group relative overflow-hidden bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white border-0 shadow-lg shadow-violet-500/25 hover:shadow-xl hover:shadow-violet-500/30 transition-all duration-300",children:[B,H]}),e[69]=a,e[70]=B,e[71]=U):U=e[71];let X;e[72]!==r?(X=r("home.hero.ctaPro"),e[72]=r,e[73]=X):X=e[73];let K;e[74]!==X?(K=s.jsx(W,{asChild:!0,size:"lg",variant:"outline",className:"border-white/20 hover:bg-white/5",children:s.jsx(Pe,{href:"/tarifs",children:X})}),e[74]=X,e[75]=K):K=e[75];let Q;e[76]!==U||e[77]!==K?(Q=s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-8",children:[U,K]}),e[76]=U,e[77]=K,e[78]=Q):Q=e[78];let fe;e[79]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx(ue,{className:"w-4 h-4 text-emerald-500"}),e[79]=fe):fe=e[79];let J;e[80]!==r?(J=r("home.hero.trust.noSignup"),e[80]=r,e[81]=J):J=e[81];let Y;e[82]!==J?(Y=s.jsxs("div",{className:"flex items-center gap-1.5",children:[fe,s.jsx("span",{children:J})]}),e[82]=J,e[83]=Y):Y=e[83];let pe;e[84]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx(ue,{className:"w-4 h-4 text-emerald-500"}),e[84]=pe):pe=e[84];let ee;e[85]!==r?(ee=r("home.hero.trust.freeImages"),e[85]=r,e[86]=ee):ee=e[86];let te;e[87]!==ee?(te=s.jsxs("div",{className:"flex items-center gap-1.5",children:[pe,s.jsx("span",{children:ee})]}),e[87]=ee,e[88]=te):te=e[88];let ge;e[89]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsx(ue,{className:"w-4 h-4 text-emerald-500"}),e[89]=ge):ge=e[89];let se;e[90]!==r?(se=r("home.hero.trust.secureData"),e[90]=r,e[91]=se):se=e[91];let ae;e[92]!==se?(ae=s.jsxs("div",{className:"flex items-center gap-1.5",children:[ge,s.jsx("span",{children:se})]}),e[92]=se,e[93]=ae):ae=e[93];let re;e[94]!==Y||e[95]!==te||e[96]!==ae?(re=s.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-x-6 gap-y-2 text-sm text-muted-foreground",children:[Y,te,ae]}),e[94]=Y,e[95]=te,e[96]=ae,e[97]=re):re=e[97];let le;e[98]!==j||e[99]!==R||e[100]!==n||e[101]!==L||e[102]!==Q||e[103]!==re?(le=s.jsxs("div",{className:"text-center lg:text-left order-2 lg:order-1",children:[j,R,n,L,Q,re]}),e[98]=j,e[99]=R,e[100]=n,e[101]=L,e[102]=Q,e[103]=re,e[104]=le):le=e[104];let be;e[105]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsx("div",{className:"order-1 lg:order-2",children:s.jsx(zt,{})}),e[105]=be):be=e[105];let ie;e[106]!==le?(ie=s.jsx("div",{className:"container mx-auto px-4 py-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[le,be]})}),e[106]=le,e[107]=ie):ie=e[107];let ne;e[108]!==r?(ne=r("home.hero.scroll"),e[108]=r,e[109]=ne):ne=e[109];let oe;e[110]!==ne?(oe=s.jsx("span",{className:"text-xs",children:ne}),e[110]=ne,e[111]=oe):oe=e[111];let je;e[112]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx("div",{className:"w-6 h-10 rounded-full border-2 border-current flex items-start justify-center p-1",children:s.jsx("div",{className:"w-1.5 h-3 bg-current rounded-full animate-bounce"})}),e[112]=je):je=e[112];let ce;e[113]!==a||e[114]!==oe?(ce=s.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2",children:s.jsxs("button",{onClick:a,className:"flex flex-col items-center gap-2 text-muted-foreground hover:text-foreground transition-colors group",children:[oe,je]})}),e[113]=a,e[114]=oe,e[115]=ce):ce=e[115];let ve;return e[116]!==ie||e[117]!==ce?(ve=s.jsxs("section",{className:"relative min-h-[90vh] flex items-center overflow-hidden",children:[g,ie,ce]}),e[116]=ie,e[117]=ce,e[118]=ve):ve=e[118],ve}function Ut(t){return s.jsx("span",{className:"text-foreground font-medium",children:t})}function Lt(t){return s.jsx("span",{className:"text-emerald-500 font-bold",children:t})}function It(t){return s.jsx("span",{className:"text-foreground font-medium",children:t})}function qt(t){return s.jsx("span",{className:"text-foreground font-medium",children:t})}const $t={maxFilesPerBatch:5,maxFileSizeMb:10,maxBatchSizeMb:25,maxWidth:4096,maxHeight:4096},Tt={maxFilesPerBatch:20,maxFileSizeMb:10,maxBatchSizeMb:100,maxWidth:8192,maxHeight:8192},Ot=["image/jpeg","image/png","image/gif","image/bmp","image/tiff","image/svg+xml","image/webp"];function Bt(t={}){const{isPro:e=!1,limits:a}=t,x={...e?Tt:$t,...a},N=x.maxFileSizeMb*1024*1024,d=x.maxBatchSizeMb*1024*1024,[b,g]=c.useState([]),[u,h]=c.useState([]),[l,m]=c.useState(!1),[k,j]=c.useState(0),[i,f]=c.useState([]),[_,y]=c.useState(null),w=b.reduce((n,p)=>n+p.size,0),E=c.useCallback((n,p)=>Ot.includes(n.type)?n.size>N?`Fichier trop volumineux: ${n.name} (max ${x.maxFileSizeMb} Mo)`:p+n.size>d?`Taille totale du lot dépassée (max ${x.maxBatchSizeMb} Mo)`:null:`Format non supporté: ${n.name}`,[N,d,x.maxFileSizeMb,x.maxBatchSizeMb]),v=c.useCallback(n=>({file:n,preview:URL.createObjectURL(n),name:n.name,size:n.size,type:n.type}),[]),F=c.useCallback(n=>{const p=Array.from(n),o=[],S=[];let P=w;p.forEach(C=>{if(b.length+S.length>=x.maxFilesPerBatch){o.push(`Nombre maximum de fichiers atteint (${x.maxFilesPerBatch})`);return}const q=E(C,P);q?o.push(q):(S.push(C),P+=C.size)});const A=[...new Set(o)];A.length>0&&f(C=>[...C,...A]),S.length>0&&(g(C=>[...C,...S]),h(C=>[...C,...S.map(v)]))},[b.length,w,x.maxFilesPerBatch,E,v]),M=c.useCallback(n=>{g(p=>p.filter((o,S)=>S!==n)),h(p=>(URL.revokeObjectURL(p[n].preview),p.filter((o,S)=>S!==n)))},[]),D=c.useCallback(()=>{u.forEach(n=>URL.revokeObjectURL(n.preview)),g([]),h([]),f([])},[u]),R=c.useCallback(async(n=[])=>{if(b.length===0)throw new Error("Aucun fichier à uploader");m(!0),j(0),f([]);const p=new FormData;b.forEach(o=>{p.append("images[]",o)}),n.forEach(o=>{p.append("keywords[]",o)});try{const o=await fetch("/api/optiseo/images/upload",{method:"POST",credentials:"include",body:p,headers:{Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}});if(!o.ok){const P=await o.json();throw new Error(P.message||"Erreur lors de l'upload")}const S=await o.json();return y(S.batch),j(100),S.batch}catch(o){const S=o instanceof Error?o.message:"Erreur inconnue";throw f(P=>[...P,S]),o}finally{m(!1)}},[b]),z=c.useCallback(()=>{D(),y(null),j(0)},[D]);return{files:b,previews:u,isUploading:l,progress:k,errors:i,batch:_,limits:x,totalSize:w,addFiles:F,removeFile:M,clearFiles:D,upload:R,reset:z}}function Ms(){const{t}=ze(),{auth:e}=Ae().props,a=e?.isPro??!1,r=c.useRef(null),[x,N]=c.useState(!1),[d,b]=c.useState(null),g=c.useCallback(()=>{r.current?.scrollIntoView({behavior:"smooth"})},[]),{files:u,previews:h,isUploading:l,errors:m,limits:k,totalSize:j,addFiles:i,removeFile:f,clearFiles:_,upload:y}=Bt({isPro:a}),{suggestions:w,fetchSuggestions:E}=qe(),[v,F]=c.useState([]);c.useEffect(()=>{(async()=>{try{const p=await fetch("/api/optiseo/usage",{credentials:"include",headers:{Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}});if(p.ok){const o=await p.json();b(o)}}catch(p){console.error("Failed to fetch usage:",p)}})()},[]),c.useEffect(()=>{!a&&d&&d.remaining<=0&&N(!0)},[a,d]),c.useEffect(()=>{m.some(p=>p.toLowerCase().includes("quota")||p.toLowerCase().includes("limite")||p.toLowerCase().includes("dépassé"))&&!a&&N(!0)},[m,a]);const M=c.useCallback(()=>{const n=u[0]?.name;E(n,v)},[u,v,E]),D=c.useCallback(n=>{F(p=>{const o=[...p];return n.forEach(S=>{o.includes(S)||o.push(S)}),o})},[]),R=c.useCallback(async()=>{if(!a&&d&&d.remaining<=0){N(!0);return}try{const n=await y(v);Ie.visit(`/convert/${n.id}`)}catch(n){(n?.message?.toLowerCase().includes("quota")||n?.message?.toLowerCase().includes("limite"))&&N(!0),console.error("Upload error:",n)}},[y,v,a,d]),z=!a&&d&&d.remaining<=0;return s.jsxs(s.Fragment,{children:[s.jsx(rt,{...lt.home}),s.jsx(Et,{open:x,onOpenChange:N,trigger:"quota"}),s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[s.jsx(et,{}),s.jsx(At,{onScrollToUpload:g}),s.jsxs("div",{ref:r,className:"container mx-auto px-4 py-12",children:[d&&!a&&s.jsx("div",{className:"mx-auto mb-8 max-w-4xl",children:s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-muted px-4 py-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:t("home.quota.remaining",{remaining:d.remaining,total:d.quota})}),d.remaining<=2&&s.jsx(xe,{variant:"outline",className:"border-amber-500 text-amber-600",children:d.remaining===0?t("home.quota.exhausted"):t("home.quota.almostExhausted")})]}),!a&&s.jsxs(W,{variant:"outline",size:"sm",onClick:()=>N(!0),className:"gap-1",children:[s.jsx(he,{className:"h-4 w-4 text-amber-500"}),t("pricing.pro.cta")]})]})}),s.jsxs("div",{className:"mx-auto max-w-4xl space-y-8",children:[s.jsxs(Z,{className:z?"opacity-60":"",children:[s.jsxs(_e,{children:[s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(ye,{className:"h-5 w-5"}),t("home.upload.step1")]}),s.jsx(Ce,{children:t("home.upload.step1Desc")})]}),s.jsxs(V,{children:[s.jsx(St,{onFilesAdded:i,disabled:l||z,maxFiles:k.maxFilesPerBatch,maxFileSizeMb:k.maxFileSizeMb}),z&&s.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg border border-amber-200 bg-amber-50 p-4 dark:border-amber-900 dark:bg-amber-950",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-200",children:t("home.quota.exceeded")}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:t("home.quota.exceededDesc")})]}),s.jsxs(W,{onClick:()=>N(!0),className:"gap-1",children:[s.jsx(he,{className:"h-4 w-4"}),t("home.quota.viewPro")]})]}),m.length>0&&s.jsx("div",{className:"mt-4 rounded-lg border border-destructive/50 bg-destructive/10 p-3",children:m.map((n,p)=>s.jsx("p",{className:"text-sm text-destructive",children:n},p))}),h.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm font-medium",children:[h.length,"/",k.maxFilesPerBatch," image",h.length>1?"s":"",s.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",(j/1024/1024).toFixed(1),"/",k.maxBatchSizeMb," Mo)"]})]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:_,disabled:l,children:t("home.upload.deleteAll")})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4",children:h.map((n,p)=>s.jsx(Ge,{preview:n,onRemove:()=>f(p)},p))})]})]})]}),u.length>0&&s.jsxs(Z,{children:[s.jsx(_e,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(we,{className:"h-5 w-5"}),t("home.upload.step2")]}),s.jsx(Ce,{className:"mt-1.5",children:t("home.upload.step2Desc")})]}),s.jsx($e,{onKeywordsGenerated:D,disabled:l,isPro:a})]})}),s.jsx(V,{children:s.jsx(Te,{keywords:v,onChange:F,suggestions:w,onFetchSuggestions:M,disabled:l})})]}),u.length>0&&s.jsx("div",{className:"flex justify-center",children:s.jsx(W,{size:"lg",onClick:R,disabled:l||u.length===0,className:"gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"h-5 w-5 animate-spin"}),t("home.upload.uploading")]}):s.jsxs(s.Fragment,{children:[t("home.upload.continue"),s.jsx(Fe,{className:"h-5 w-5"})]})})}),s.jsx(jt,{})]}),s.jsxs("div",{className:"mx-auto mt-16 max-w-4xl",children:[s.jsx("h2",{className:"mb-8 text-center text-2xl font-bold",children:t("home.why")}),s.jsxs("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsx(Z,{children:s.jsxs(V,{className:"pt-6",children:[s.jsx("div",{className:"mb-4 inline-flex rounded-lg bg-primary/10 p-3",children:s.jsx(ye,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"mb-2 font-semibold",children:t("home.featureCards.conversion.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t(a?"home.featureCards.conversion.pro":"home.featureCards.conversion.free")})]})}),s.jsx(Z,{children:s.jsxs(V,{className:"pt-6",children:[s.jsx("div",{className:"mb-4 inline-flex rounded-lg bg-primary/10 p-3",children:s.jsx(Ee,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"mb-2 font-semibold",children:t("home.featureCards.bgRemoval.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t(a?"home.featureCards.bgRemoval.pro":"home.featureCards.bgRemoval.free")})]})}),s.jsx(Z,{children:s.jsxs(V,{className:"pt-6",children:[s.jsx("div",{className:"mb-4 inline-flex rounded-lg bg-primary/10 p-3",children:s.jsx(we,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"mb-2 font-semibold",children:t("home.featureCards.seo.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t(a?"home.featureCards.seo.pro":"home.featureCards.seo.free")})]})}),s.jsx(Z,{children:s.jsxs(V,{className:"pt-6",children:[s.jsx("div",{className:"mb-4 inline-flex rounded-lg bg-primary/10 p-3",children:s.jsx(Fe,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"mb-2 font-semibold",children:t("home.featureCards.export.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t(a?"home.featureCards.export.pro":"home.featureCards.export.free")})]})})]})]})]}),s.jsx(tt,{})]}),s.jsx(at,{})]})}export{Ms as default};
