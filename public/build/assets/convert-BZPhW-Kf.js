import{r as u,j as s,c as le,f as Be,e as je}from"./app-X3ZGJWL7.js";import{c as Te,d as ze,u as Z,b as Y,B as ne}from"./button-D500PmsH.js";import{S as Fe,a as Oe}from"./seo-head-DJBm-T8x.js";import{b as re,C as oe,a as ie,c as ae,d as ve}from"./card-CkgHl2dW.js";import{u as $e,A as Le,K as He,a as qe}from"./use-keyword-suggestions-D7Lbcdru.js";import{I as Ue}from"./image-card-Yw2zlaYD.js";import{P as We}from"./dialog-iSJbtB21.js";import{X as Ge}from"./x-Dj1o6une.js";import{L as be}from"./loader-circle-Bt5ujckM.js";import{C as Ye}from"./check-Cmr9BaLA.js";import{C as Xe}from"./checkbox-8L1Phh8W.js";import{I as Se}from"./input-ChUNWMgC.js";import{L as X}from"./label-LSzukPbm.js";import{e as ye,S as Qe,a as Ze,b as Je,d as me,c as et}from"./select-BVzIui5k.js";import{u as tt,c as Q,a as st}from"./index-CjLp6vR6.js";import{c as nt,u as rt}from"./index-nSMPMrVl.js";import{u as ot}from"./index-BxhvxbBJ.js";import{u as it}from"./use-conversion-DJrMg3yu.js";import{A as at}from"./arrow-left-AUgy9F9t.js";import{S as lt}from"./sparkles-45YoHO_q.js";import{S as ct}from"./settings-Blofa5bS.js";/* empty css            */import"./badge-BJcbcsK-.js";import"./index-Cd9KG4SW.js";import"./lock-Cjmsw8pU.js";import"./crown-PEFkzpOG.js";import"./index-BpprJK8e.js";import"./index-CoVVO4Me.js";import"./index-yju7Onp2.js";const dt=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],mt=Te("Play",dt);function ut(n,e=[]){let t=[];function r(d,o){const a=u.createContext(o),l=t.length;t=[...t,o];const m=c=>{const{scope:f,children:h,...v}=c,x=f?.[n]?.[l]||a,g=u.useMemo(()=>v,Object.values(v));return s.jsx(x.Provider,{value:g,children:h})};m.displayName=d+"Provider";function p(c,f){const h=f?.[n]?.[l]||a,v=u.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${c}\` must be used within \`${d}\``)}return[m,p]}const i=()=>{const d=t.map(o=>u.createContext(o));return function(a){const l=a?.[n]||d;return u.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,ft(i,...e)]}function ft(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(d){const o=r.reduce((a,{useScope:l,scopeName:m})=>{const c=l(d)[`__scope${m}`];return{...a,...c}},{});return u.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function ht(n){const e=pt(n),t=u.forwardRef((r,i)=>{const{children:d,...o}=r,a=u.Children.toArray(d),l=a.find(gt);if(l){const m=l.props.children,p=a.map(c=>c===l?u.Children.count(m)>1?u.Children.only(null):u.isValidElement(m)?m.props.children:null:c);return s.jsx(e,{...o,ref:i,children:u.isValidElement(m)?u.cloneElement(m,void 0,p):null})}return s.jsx(e,{...o,ref:i,children:d})});return t.displayName=`${n}.Slot`,t}function pt(n){const e=u.forwardRef((t,r)=>{const{children:i,...d}=t;if(u.isValidElement(i)){const o=St(i),a=vt(d,i.props);return i.type!==u.Fragment&&(a.ref=r?ze(r,o):o),u.cloneElement(i,a)}return u.Children.count(i)>1?u.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var xt=Symbol("radix.slottable");function gt(n){return u.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===xt}function vt(n,e){const t={...e};for(const r in e){const i=n[r],d=e[r];/^on[A-Z]/.test(r)?i&&d?t[r]=(...a)=>{const l=d(...a);return i(...a),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...d}:r==="className"&&(t[r]=[i,d].filter(Boolean).join(" "))}return{...n,...t}}function St(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var jt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],te=jt.reduce((n,e)=>{const t=ht(`Primitive.${e}`),r=u.forwardRef((i,d)=>{const{asChild:o,...a}=i,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...a,ref:d})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),we=["PageUp","PageDown"],_e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ne={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},J="Slider",[ue,bt,yt]=nt(J),[Ce]=ut(J,[yt]),[wt,ce]=Ce(J),Pe=u.forwardRef((n,e)=>{const{name:t,min:r=0,max:i=100,step:d=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:m=[r],value:p,onValueChange:c=()=>{},onValueCommit:f=()=>{},inverted:h=!1,form:v,...x}=n,g=u.useRef(new Set),b=u.useRef(0),y=o==="horizontal"?_t:Nt,[S=[],C]=tt({prop:p,defaultProp:m,onChange:_=>{[...g.current][b.current]?.focus(),c(_)}}),j=u.useRef(S);function E(_){const k=Dt(S,_);M(_,k)}function A(_){M(_,b.current)}function I(){const _=j.current[b.current];S[b.current]!==_&&f(S)}function M(_,k,{commit:K}={commit:!1}){const W=Mt(d),$=Vt(Math.round((_-r)/d)*d+r,W),N=ye($,[r,i]);C((w=[])=>{const D=Et(w,N,k);if(At(D,l*d)){b.current=D.indexOf(N);const V=String(D)!==String(w);return V&&K&&f(D),V?D:w}else return w})}return s.jsx(wt,{scope:n.__scopeSlider,name:t,disabled:a,min:r,max:i,valueIndexToChangeRef:b,thumbs:g.current,values:S,orientation:o,form:v,children:s.jsx(ue.Provider,{scope:n.__scopeSlider,children:s.jsx(ue.Slot,{scope:n.__scopeSlider,children:s.jsx(y,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:e,onPointerDown:Q(x.onPointerDown,()=>{a||(j.current=S)}),min:r,max:i,inverted:h,onSlideStart:a?void 0:E,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:I,onHomeKeyDown:()=>!a&&M(r,0,{commit:!0}),onEndKeyDown:()=>!a&&M(i,S.length-1,{commit:!0}),onStepKeyDown:({event:_,direction:k})=>{if(!a){const $=we.includes(_.key)||_.shiftKey&&_e.includes(_.key)?10:1,N=b.current,w=S[N],D=d*$*k;M(w+D,N,{commit:!0})}}})})})})});Pe.displayName=J;var[Ee,Re]=Ce(J,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_t=u.forwardRef((n,e)=>{const{min:t,max:r,dir:i,inverted:d,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:m,...p}=n,[c,f]=u.useState(null),h=Z(e,y=>f(y)),v=u.useRef(void 0),x=rt(i),g=x==="ltr",b=g&&!d||!g&&d;function P(y){const S=v.current||c.getBoundingClientRect(),C=[0,S.width],E=pe(C,b?[t,r]:[r,t]);return v.current=S,E(y-S.left)}return s.jsx(Ee,{scope:n.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:s.jsx(De,{dir:x,"data-orientation":"horizontal",...p,ref:h,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const S=P(y.clientX);o?.(S)},onSlideMove:y=>{const S=P(y.clientX);a?.(S)},onSlideEnd:()=>{v.current=void 0,l?.()},onStepKeyDown:y=>{const C=Ne[b?"from-left":"from-right"].includes(y.key);m?.({event:y,direction:C?-1:1})}})})}),Nt=u.forwardRef((n,e)=>{const{min:t,max:r,inverted:i,onSlideStart:d,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...m}=n,p=u.useRef(null),c=Z(e,p),f=u.useRef(void 0),h=!i;function v(x){const g=f.current||p.current.getBoundingClientRect(),b=[0,g.height],y=pe(b,h?[r,t]:[t,r]);return f.current=g,y(x-g.top)}return s.jsx(Ee,{scope:n.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:s.jsx(De,{"data-orientation":"vertical",...m,ref:c,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const g=v(x.clientY);d?.(g)},onSlideMove:x=>{const g=v(x.clientY);o?.(g)},onSlideEnd:()=>{f.current=void 0,a?.()},onStepKeyDown:x=>{const b=Ne[h?"from-bottom":"from-top"].includes(x.key);l?.({event:x,direction:b?-1:1})}})})}),De=u.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:i,onSlideEnd:d,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...m}=n,p=ce(J,t);return s.jsx(te.span,{...m,ref:e,onKeyDown:Q(n.onKeyDown,c=>{c.key==="Home"?(o(c),c.preventDefault()):c.key==="End"?(a(c),c.preventDefault()):we.concat(_e).includes(c.key)&&(l(c),c.preventDefault())}),onPointerDown:Q(n.onPointerDown,c=>{const f=c.target;f.setPointerCapture(c.pointerId),c.preventDefault(),p.thumbs.has(f)?f.focus():r(c)}),onPointerMove:Q(n.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&i(c)}),onPointerUp:Q(n.onPointerUp,c=>{const f=c.target;f.hasPointerCapture(c.pointerId)&&(f.releasePointerCapture(c.pointerId),d(c))})})}),Ie="SliderTrack",ke=u.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=ce(Ie,t);return s.jsx(te.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});ke.displayName=Ie;var fe="SliderRange",Ae=u.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=ce(fe,t),d=Re(fe,t),o=u.useRef(null),a=Z(e,o),l=i.values.length,m=i.values.map(f=>Ke(f,i.min,i.max)),p=l>1?Math.min(...m):0,c=100-Math.max(...m);return s.jsx(te.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...n.style,[d.startEdge]:p+"%",[d.endEdge]:c+"%"}})});Ae.displayName=fe;var he="SliderThumb",Me=u.forwardRef((n,e)=>{const t=bt(n.__scopeSlider),[r,i]=u.useState(null),d=Z(e,a=>i(a)),o=u.useMemo(()=>r?t().findIndex(a=>a.ref.current===r):-1,[t,r]);return s.jsx(Ct,{...n,ref:d,index:o})}),Ct=u.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:i,...d}=n,o=ce(he,t),a=Re(he,t),[l,m]=u.useState(null),p=Z(e,P=>m(P)),c=l?o.form||!!l.closest("form"):!0,f=st(l),h=o.values[r],v=h===void 0?0:Ke(h,o.min,o.max),x=Rt(r,o.values.length),g=f?.[a.size],b=g?It(g,v,a.direction):0;return u.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${b}px)`},children:[s.jsx(ue.ItemSlot,{scope:n.__scopeSlider,children:s.jsx(te.span,{role:"slider","aria-label":n["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...d,ref:p,style:h===void 0?{display:"none"}:n.style,onFocus:Q(n.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),c&&s.jsx(Ve,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},r)]})});Me.displayName=he;var Pt="RadioBubbleInput",Ve=u.forwardRef(({__scopeSlider:n,value:e,...t},r)=>{const i=u.useRef(null),d=Z(i,r),o=ot(e);return u.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&p){const c=new Event("input",{bubbles:!0});p.call(a,e),a.dispatchEvent(c)}},[o,e]),s.jsx(te.input,{style:{display:"none"},...t,ref:d,defaultValue:e})});Ve.displayName=Pt;function Et(n=[],e,t){const r=[...n];return r[t]=e,r.sort((i,d)=>i-d)}function Ke(n,e,t){const d=100/(t-e)*(n-e);return ye(d,[0,100])}function Rt(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function Dt(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),r=Math.min(...t);return t.indexOf(r)}function It(n,e,t){const r=n/2,d=pe([0,50],[0,r]);return(r-d(e)*t)*t}function kt(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function At(n,e){if(e>0){const t=kt(n);return Math.min(...t)>=e}return!0}function pe(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function Mt(n){return(String(n).split(".")[1]||"").length}function Vt(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var Kt=Pe,Bt=ke,Tt=Ae,zt=Me;function Ft(n){switch(n){case"completed":return s.jsx(Ye,{className:"h-5 w-5 text-green-500"});case"processing":return s.jsx(be,{className:"h-5 w-5 animate-spin text-primary"});case"failed":return s.jsx(Ge,{className:"h-5 w-5 text-destructive"});default:return null}}function Ot(n){switch(n){case"completed":return"Conversion terminée";case"processing":return"Conversion en cours...";case"failed":return"Conversion échouée";default:return"En attente"}}function $t(n){const e=le.c(45),{batch:t,showDetails:r,className:i}=n,d=r===void 0?!0:r,o=t.progress_percentage,a=t.status==="processing",l=t.status==="completed",m=t.status==="failed";let p;e[0]!==i?(p=Y("space-y-4",i),e[0]=i,e[1]=p):p=e[1];let c;e[2]!==t.status?(c=Ft(t.status),e[2]=t.status,e[3]=c):c=e[3];let f;e[4]!==t.status?(f=Ot(t.status),e[4]=t.status,e[5]=f):f=e[5];let h;e[6]!==f?(h=s.jsx("span",{className:"font-medium",children:f}),e[6]=f,e[7]=h):h=e[7];let v;e[8]!==c||e[9]!==h?(v=s.jsxs("div",{className:"flex items-center gap-2",children:[c,h]}),e[8]=c,e[9]=h,e[10]=v):v=e[10];let x;e[11]!==t.processed_images||e[12]!==t.total_images?(x=s.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.processed_images," / ",t.total_images," images"]}),e[11]=t.processed_images,e[12]=t.total_images,e[13]=x):x=e[13];let g;e[14]!==v||e[15]!==x?(g=s.jsxs("div",{className:"flex items-center justify-between",children:[v,x]}),e[14]=v,e[15]=x,e[16]=g):g=e[16];const b=l&&"[&>div]:bg-green-500",P=m&&"[&>div]:bg-destructive";let y;e[17]!==P||e[18]!==b?(y=Y("h-2",b,P),e[17]=P,e[18]=b,e[19]=y):y=e[19];let S;e[20]!==o||e[21]!==y?(S=s.jsx(We,{value:o,className:y}),e[20]=o,e[21]=y,e[22]=S):S=e[22];let C;e[23]!==o?(C=s.jsxs("span",{children:[o,"%"]}),e[23]=o,e[24]=C):C=e[24];let j;e[25]!==t.processed_images||e[26]!==t.total_images||e[27]!==a?(j=a&&s.jsxs("span",{children:["Estimation : ",Math.ceil((t.total_images-t.processed_images)*2),"s restantes"]}),e[25]=t.processed_images,e[26]=t.total_images,e[27]=a,e[28]=j):j=e[28];let E;e[29]!==C||e[30]!==j?(E=s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[C,j]}),e[29]=C,e[30]=j,e[31]=E):E=e[31];let A;e[32]!==t.images||e[33]!==d?(A=d&&t.images&&t.images.length>0&&s.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3",children:[s.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Détails par image"}),s.jsx("div",{className:"max-h-40 space-y-1 overflow-y-auto",children:t.images.map(Ht)})]}),e[32]=t.images,e[33]=d,e[34]=A):A=e[34];let I;e[35]!==t.images||e[36]!==l?(I=l&&s.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-900 dark:bg-green-950",children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-200",children:"✓ Toutes les images ont été converties avec succès !"}),t.images&&s.jsxs("p",{className:"mt-1 text-sm text-green-700 dark:text-green-300",children:[t.images.filter(Lt).length," images prêtes à télécharger"]})]}),e[35]=t.images,e[36]=l,e[37]=I):I=e[37];let M;return e[38]!==S||e[39]!==E||e[40]!==A||e[41]!==I||e[42]!==p||e[43]!==g?(M=s.jsxs("div",{className:p,children:[g,S,E,A,I]}),e[38]=S,e[39]=E,e[40]=A,e[41]=I,e[42]=p,e[43]=g,e[44]=M):M=e[44],M}function Lt(n){return n.status==="completed"}function Ht(n){return s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"truncate max-w-[200px]",title:n.original.name,children:n.original.name}),s.jsxs("span",{className:Y("text-xs",n.status==="completed"&&"text-green-600",n.status==="processing"&&"text-primary",n.status==="failed"&&"text-destructive"),children:[n.status==="completed"&&"✓ Converti",n.status==="processing"&&"⟳ En cours",n.status==="failed"&&"✗ Échec",n.status==="pending"&&"○ En attente"]})]},n.id)}function qt(n){const e=le.c(26);let t,r,i,d,o,a;e[0]!==n?({className:t,defaultValue:r,value:a,min:d,max:o,...i}=n,e[0]=n,e[1]=t,e[2]=r,e[3]=i,e[4]=d,e[5]=o,e[6]=a):(t=e[1],r=e[2],i=e[3],d=e[4],o=e[5],a=e[6]);const l=d===void 0?0:d,m=o===void 0?100:o;let p;e[7]!==r||e[8]!==m||e[9]!==l||e[10]!==a?(p=Array.isArray(a)?a:Array.isArray(r)?r:[l,m],e[7]=r,e[8]=m,e[9]=l,e[10]=a,e[11]=p):p=e[11];const c=p;let f;e[12]!==t?(f=Y("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),e[12]=t,e[13]=f):f=e[13];let h;e[14]===Symbol.for("react.memo_cache_sentinel")?(h=Y("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),e[14]=h):h=e[14];let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(Bt,{"data-slot":"slider-track",className:h,children:s.jsx(Tt,{"data-slot":"slider-range",className:Y("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),e[15]=v):v=e[15];let x;e[16]!==c.length?(x=Array.from({length:c.length},Ut),e[16]=c.length,e[17]=x):x=e[17];let g;return e[18]!==r||e[19]!==m||e[20]!==l||e[21]!==i||e[22]!==f||e[23]!==x||e[24]!==a?(g=s.jsxs(Kt,{"data-slot":"slider",defaultValue:r,value:a,min:l,max:m,className:f,...i,children:[v,x]}),e[18]=r,e[19]=m,e[20]=l,e[21]=i,e[22]=f,e[23]=x,e[24]=a,e[25]=g):g=e[25],g}function Ut(n,e){return s.jsx(zt,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},e)}function Wt(n){const e=le.c(80),{settings:t,onChange:r,disabled:i,className:d}=n,o=i===void 0?!1:i;let a;e[0]!==r||e[1]!==t?(a=(R,G)=>{r({...t,[R]:G})},e[0]=r,e[1]=t,e[2]=a):a=e[2];const l=a;let m;e[3]!==d?(m=Y("space-y-6",d),e[3]=d,e[4]=m):m=e[4];let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(X,{htmlFor:"format",children:"Format de sortie"}),e[5]=p):p=e[5];let c;e[6]!==l?(c=R=>l("format",R),e[6]=l,e[7]=c):c=e[7];let f;e[8]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(Ze,{id:"format",children:s.jsx(Je,{placeholder:"Sélectionnez un format"})}),e[8]=f):f=e[8];let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(me,{value:"webp",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:"WebP"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Excellent support navigateurs, bonne compression"})]})}),e[9]=h):h=e[9];let v;e[10]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(me,{value:"avif",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:"AVIF"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Meilleure compression, support croissant"})]})}),e[10]=v):v=e[10];let x;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsxs(et,{children:[h,v,s.jsx(me,{value:"both",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:"WebP + AVIF"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Les deux formats pour une compatibilité maximale"})]})})]}),e[11]=x):x=e[11];let g;e[12]!==o||e[13]!==t.format||e[14]!==c?(g=s.jsxs("div",{className:"space-y-2",children:[p,s.jsxs(Qe,{value:t.format,onValueChange:c,disabled:o,children:[f,x]})]}),e[12]=o,e[13]=t.format,e[14]=c,e[15]=g):g=e[15];let b;e[16]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(X,{children:"Qualité de compression"}),e[16]=b):b=e[16];let P;e[17]!==t.quality?(P=s.jsxs("div",{className:"flex items-center justify-between",children:[b,s.jsxs("span",{className:"text-sm font-medium",children:[t.quality,"%"]})]}),e[17]=t.quality,e[18]=P):P=e[18];let y;e[19]!==t.quality?(y=[t.quality],e[19]=t.quality,e[20]=y):y=e[20];let S;e[21]!==l?(S=R=>{const[G]=R;return l("quality",G)},e[21]=l,e[22]=S):S=e[22];let C;e[23]!==o||e[24]!==y||e[25]!==S?(C=s.jsx(qt,{value:y,onValueChange:S,min:1,max:100,step:1,disabled:o,className:"py-2"}),e[23]=o,e[24]=y,e[25]=S,e[26]=C):C=e[26];let j;e[27]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Petite taille"}),s.jsx("span",{children:"Haute qualité"})]}),e[27]=j):j=e[27];let E;e[28]!==P||e[29]!==C?(E=s.jsxs("div",{className:"space-y-4",children:[P,C,j]}),e[28]=P,e[29]=C,e[30]=E):E=e[30];let A;e[31]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(X,{children:"Dimensions maximales (optionnel)"}),e[31]=A):A=e[31];let I;e[32]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(X,{htmlFor:"max-width",className:"text-xs text-muted-foreground",children:"Largeur max (px)"}),e[32]=I):I=e[32];const M=t.max_width??"";let _;e[33]!==l?(_=R=>l("max_width",R.target.value?parseInt(R.target.value):null),e[33]=l,e[34]=_):_=e[34];let k;e[35]!==o||e[36]!==M||e[37]!==_?(k=s.jsxs("div",{className:"space-y-2",children:[I,s.jsx(Se,{id:"max-width",type:"number",placeholder:"Ex: 1920",value:M,onChange:_,min:1,max:4096,disabled:o})]}),e[35]=o,e[36]=M,e[37]=_,e[38]=k):k=e[38];let K;e[39]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(X,{htmlFor:"max-height",className:"text-xs text-muted-foreground",children:"Hauteur max (px)"}),e[39]=K):K=e[39];const W=t.max_height??"";let $;e[40]!==l?($=R=>l("max_height",R.target.value?parseInt(R.target.value):null),e[40]=l,e[41]=$):$=e[41];let N;e[42]!==o||e[43]!==W||e[44]!==$?(N=s.jsxs("div",{className:"space-y-2",children:[K,s.jsx(Se,{id:"max-height",type:"number",placeholder:"Ex: 1080",value:W,onChange:$,min:1,max:4096,disabled:o})]}),e[42]=o,e[43]=W,e[44]=$,e[45]=N):N=e[45];let w;e[46]!==k||e[47]!==N?(w=s.jsxs("div",{className:"space-y-4",children:[A,s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k,N]})]}),e[46]=k,e[47]=N,e[48]=w):w=e[48];let D;e[49]!==l?(D=R=>l("maintain_aspect_ratio",R),e[49]=l,e[50]=D):D=e[50];let V;e[51]!==o||e[52]!==t.maintain_aspect_ratio||e[53]!==D?(V=s.jsx(Xe,{id:"maintain-ratio",checked:t.maintain_aspect_ratio,onCheckedChange:D,disabled:o}),e[51]=o,e[52]=t.maintain_aspect_ratio,e[53]=D,e[54]=V):V=e[54];let L;e[55]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(X,{htmlFor:"maintain-ratio",className:"cursor-pointer",children:"Conserver les proportions"}),e[55]=L):L=e[55];let H;e[56]!==V?(H=s.jsxs("div",{className:"flex items-center space-x-2",children:[V,L]}),e[56]=V,e[57]=H):H=e[57];let q;e[58]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx("p",{className:"font-medium",children:"Résumé des paramètres :"}),e[58]=q):q=e[58];let B;e[59]!==t.format?(B=t.format.toUpperCase(),e[59]=t.format,e[60]=B):B=e[60];let T;e[61]!==B?(T=s.jsxs("li",{children:["• Format : ",B]}),e[61]=B,e[62]=T):T=e[62];let z;e[63]!==t.quality?(z=s.jsxs("li",{children:["• Qualité : ",t.quality,"%"]}),e[63]=t.quality,e[64]=z):z=e[64];let F;e[65]!==t.maintain_aspect_ratio||e[66]!==t.max_height||e[67]!==t.max_width?(F=(t.max_width||t.max_height)&&s.jsxs("li",{children:["• Dimensions max : ",t.max_width||"∞"," × ",t.max_height||"∞"," px",t.maintain_aspect_ratio&&" (proportions conservées)"]}),e[65]=t.maintain_aspect_ratio,e[66]=t.max_height,e[67]=t.max_width,e[68]=F):F=e[68];let O;e[69]!==T||e[70]!==z||e[71]!==F?(O=s.jsxs("div",{className:"rounded-lg border bg-muted/50 p-3 text-sm",children:[q,s.jsxs("ul",{className:"mt-2 space-y-1 text-muted-foreground",children:[T,z,F]})]}),e[69]=T,e[70]=z,e[71]=F,e[72]=O):O=e[72];let U;return e[73]!==g||e[74]!==E||e[75]!==w||e[76]!==m||e[77]!==H||e[78]!==O?(U=s.jsxs("div",{className:m,children:[g,E,w,H,O]}),e[73]=g,e[74]=E,e[75]=w,e[76]=m,e[77]=H,e[78]=O,e[79]=U):U=e[79],U}const Gt={format:"webp",quality:80,max_width:null,max_height:null,maintain_aspect_ratio:!0};function Cs(n){const e=le.c(66),{batchId:t,initialBatch:r}=n,{auth:i}=Be().props,d=i?.isPro??!1,[o,a]=u.useState(Gt);let l;e[0]!==r?.keywords?(l=r?.keywords??[],e[0]=r?.keywords,e[1]=l):l=e[1];const[m,p]=u.useState(l),{suggestions:c,fetchSuggestions:f}=$e(),{batch:h,isConverting:v,error:x,startConversion:g,pollProgress:b}=it();let P,y;e[2]!==t||e[3]!==r||e[4]!==b?(P=()=>{r?p(r.keywords??[]):b(t)},y=[t,r,b],e[2]=t,e[3]=r,e[4]=b,e[5]=P,e[6]=y):(P=e[5],y=e[6]),u.useEffect(P,y);let S,C;e[7]!==h||e[8]!==m.length?(S=()=>{h?.keywords&&h.keywords.length>0&&m.length===0&&p(h.keywords)},C=[h,m.length],e[7]=h,e[8]=m.length,e[9]=S,e[10]=C):(S=e[9],C=e[10]),u.useEffect(S,C);const j=h??r;let E;e[11]!==j?.images?.[0]?.original.name||e[12]!==f||e[13]!==m?(E=()=>{const ee=j?.images?.[0]?.original.name;f(ee,m)},e[11]=j?.images?.[0]?.original.name,e[12]=f,e[13]=m,e[14]=E):E=e[14];const A=E;let I;e[15]===Symbol.for("react.memo_cache_sentinel")?(I=ee=>{p(xe=>{const de=[...xe];return ee.forEach(ge=>{de.includes(ge)||de.push(ge)}),de})},e[15]=I):I=e[15];const M=I;let _;e[16]!==t||e[17]!==m||e[18]!==o||e[19]!==g?(_=async()=>{try{await g(t,o,m)}catch(ee){console.error("Conversion error:",ee)}},e[16]=t,e[17]=m,e[18]=o,e[19]=g,e[20]=_):_=e[20];const k=_;let K;e[21]!==t?(K=()=>{je.visit(`/result/${t}`)},e[21]=t,e[22]=K):K=e[22];const W=K,$=Xt,N=j?.status==="completed",w=j?.status==="processing"||v;let D;e[23]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(Fe,{...Oe.convert}),e[23]=D):D=e[23];let V;e[24]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(at,{className:"mr-2 h-4 w-4"}),e[24]=V):V=e[24];let L;e[25]!==w?(L=s.jsxs(ne,{variant:"ghost",onClick:$,className:"mb-6",disabled:w,children:[V,"Retour"]}),e[25]=w,e[26]=L):L=e[26];let H;e[27]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-2 text-3xl font-bold",children:"Paramètres de conversion"}),s.jsx("p",{className:"text-muted-foreground",children:"Configurez les options de conversion et lancez le traitement"})]}),e[27]=H):H=e[27];let q;e[28]!==j?(q=j?.images&&j.images.length>0&&s.jsxs(re,{children:[s.jsx(oe,{children:s.jsxs(ie,{children:[j.images.length," image",j.images.length>1?"s":""," à convertir"]})}),s.jsx(ae,{children:s.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:grid-cols-4 md:grid-cols-6",children:[j.images.slice(0,12).map(Yt),j.images.length>12&&s.jsxs("div",{className:"flex items-center justify-center rounded-lg border bg-muted text-sm text-muted-foreground",children:["+",j.images.length-12," autres"]})]})})]}),e[28]=j,e[29]=q):q=e[29];let B;e[30]!==j||e[31]!==N||e[32]!==w?(B=(w||N)&&j&&s.jsxs(re,{children:[s.jsx(oe,{children:s.jsx(ie,{children:"Progression"})}),s.jsx(ae,{children:s.jsx($t,{batch:j})})]}),e[30]=j,e[31]=N,e[32]=w,e[33]=B):B=e[33];let T;e[34]!==A||e[35]!==N||e[36]!==d||e[37]!==w||e[38]!==m||e[39]!==o||e[40]!==c?(T=!w&&!N&&s.jsxs(s.Fragment,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-5 w-5"}),"Mots-clés SEO"]}),s.jsx(ve,{className:"mt-1.5",children:"Modifiez ou ajoutez des mots-clés pour la génération SEO"})]}),s.jsx(Le,{onKeywordsGenerated:M,disabled:w,isPro:d})]})}),s.jsx(ae,{children:s.jsx(He,{keywords:m,onChange:p,suggestions:c,onFetchSuggestions:A})})]}),s.jsxs(re,{children:[s.jsxs(oe,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(ct,{className:"h-5 w-5"}),"Paramètres de conversion"]}),s.jsx(ve,{children:"Choisissez le format, la qualité et les dimensions"})]}),s.jsx(ae,{children:s.jsx(Wt,{settings:o,onChange:a})})]})]}),e[34]=A,e[35]=N,e[36]=d,e[37]=w,e[38]=m,e[39]=o,e[40]=c,e[41]=T):T=e[41];let z;e[42]!==x?(z=x&&s.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:s.jsx("p",{className:"text-destructive",children:x})}),e[42]=x,e[43]=z):z=e[43];let F;e[44]!==k||e[45]!==N||e[46]!==w?(F=!w&&!N&&s.jsxs(ne,{size:"lg",onClick:k,className:"gap-2",children:[s.jsx(mt,{className:"h-5 w-5"}),"Lancer la conversion"]}),e[44]=k,e[45]=N,e[46]=w,e[47]=F):F=e[47];let O;e[48]!==w?(O=w&&s.jsxs(ne,{size:"lg",disabled:!0,className:"gap-2",children:[s.jsx(be,{className:"h-5 w-5 animate-spin"}),"Conversion en cours..."]}),e[48]=w,e[49]=O):O=e[49];let U;e[50]!==W||e[51]!==N?(U=N&&s.jsxs(ne,{size:"lg",onClick:W,className:"gap-2",children:["Voir les résultats",s.jsx(qe,{className:"h-5 w-5"})]}),e[50]=W,e[51]=N,e[52]=U):U=e[52];let R;e[53]!==F||e[54]!==O||e[55]!==U?(R=s.jsxs("div",{className:"flex justify-center gap-4",children:[F,O,U]}),e[53]=F,e[54]=O,e[55]=U,e[56]=R):R=e[56];let G;e[57]!==q||e[58]!==B||e[59]!==T||e[60]!==z||e[61]!==R?(G=s.jsxs("div",{className:"mx-auto max-w-4xl space-y-8",children:[H,q,B,T,z,R]}),e[57]=q,e[58]=B,e[59]=T,e[60]=z,e[61]=R,e[62]=G):G=e[62];let se;return e[63]!==L||e[64]!==G?(se=s.jsxs(s.Fragment,{children:[D,s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[L,G]})})]}),e[63]=L,e[64]=G,e[65]=se):se=e[65],se}function Yt(n){return s.jsx(Ue,{image:n},n.id)}function Xt(){je.visit("/")}export{Cs as default};
