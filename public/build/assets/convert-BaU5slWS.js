import{r as f,j as s,c as ge,f as Ue,e as Re}from"./app-DajP5S0m.js";import{c as We,d as Ge,u as le,b as se,B as ue}from"./button-Dg4E0vYF.js";import{S as Ye,a as Xe}from"./seo-head-BMePOC5x.js";import{b as fe,C as he,a as pe,c as xe,d as Ne}from"./card-BKn2NzCB.js";import{u as Qe,A as Ze,K as Je,a as et}from"./use-keyword-suggestions-DsyPWaLM.js";import{I as tt}from"./image-card-zP9iwalj.js";import{P as st}from"./progress-Bfw2CeU7.js";import{X as nt}from"./x-D-6iNh_c.js";import{L as De}from"./loader-circle-uo2uf195.js";import{C as rt}from"./check-Bo2tfiUN.js";import{B as Ce}from"./badge-Bqs-xZSL.js";import{C as Pe}from"./checkbox-DoEE7ISc.js";import{I as Ee}from"./input-B4ApvBSE.js";import{L as te}from"./label-PwOxC4_U.js";import{e as Ie,S as ot,a as it,b as at,d as je,c as lt}from"./select-F2r8EGpu.js";import{u as ct,c as ae}from"./index-0rY9RSpX.js";import{c as dt,u as mt}from"./index-jYNIRHxE.js";import{u as ut}from"./index-B2TjaFH4.js";import{u as ft}from"./index-p5Z00z_K.js";import{I as ht}from"./image-Cp6C9CmI.js";import{u as pt}from"./use-conversion-DcVYfUBJ.js";import{A as xt}from"./arrow-left-DWjcyCke.js";import{S as gt}from"./sparkles-kaEtkgHj.js";import{S as vt}from"./settings-0VdW8GDs.js";/* empty css            */import"./dialog-CNHPrZrn.js";import"./index-BGytivDr.js";import"./index-DUg-3UEC.js";import"./lock-D3gqCcoH.js";import"./crown-nyBeaiE9.js";import"./index-B-2XgYMT.js";import"./index-Vi4PfPsT.js";import"./index-W0QK-qF4.js";const St=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],jt=We("Play",St);function bt(n,e=[]){let t=[];function r(d,a){const o=f.createContext(a),m=t.length;t=[...t,a];const l=c=>{const{scope:u,children:p,...v}=c,x=u?.[n]?.[m]||o,g=f.useMemo(()=>v,Object.values(v));return s.jsx(x.Provider,{value:g,children:p})};l.displayName=d+"Provider";function h(c,u){const p=u?.[n]?.[m]||o,v=f.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${c}\` must be used within \`${d}\``)}return[l,h]}const i=()=>{const d=t.map(a=>f.createContext(a));return function(o){const m=o?.[n]||d;return f.useMemo(()=>({[`__scope${n}`]:{...o,[n]:m}}),[o,m])}};return i.scopeName=n,[r,yt(i,...e)]}function yt(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(d){const a=r.reduce((o,{useScope:m,scopeName:l})=>{const c=m(d)[`__scope${l}`];return{...o,...c}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function _t(n){const e=wt(n),t=f.forwardRef((r,i)=>{const{children:d,...a}=r,o=f.Children.toArray(d),m=o.find(Ct);if(m){const l=m.props.children,h=o.map(c=>c===m?f.Children.count(l)>1?f.Children.only(null):f.isValidElement(l)?l.props.children:null:c);return s.jsx(e,{...a,ref:i,children:f.isValidElement(l)?f.cloneElement(l,void 0,h):null})}return s.jsx(e,{...a,ref:i,children:d})});return t.displayName=`${n}.Slot`,t}function wt(n){const e=f.forwardRef((t,r)=>{const{children:i,...d}=t;if(f.isValidElement(i)){const a=Et(i),o=Pt(d,i.props);return i.type!==f.Fragment&&(o.ref=r?Ge(r,a):a),f.cloneElement(i,o)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Nt=Symbol("radix.slottable");function Ct(n){return f.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Nt}function Pt(n,e){const t={...e};for(const r in e){const i=n[r],d=e[r];/^on[A-Z]/.test(r)?i&&d?t[r]=(...o)=>{const m=d(...o);return i(...o),m}:i&&(t[r]=i):r==="style"?t[r]={...i,...d}:r==="className"&&(t[r]=[i,d].filter(Boolean).join(" "))}return{...n,...t}}function Et(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Rt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=Rt.reduce((n,e)=>{const t=_t(`Primitive.${e}`),r=f.forwardRef((i,d)=>{const{asChild:a,...o}=i,m=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(m,{...o,ref:d})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),ke=["PageUp","PageDown"],Ae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Me={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ce="Slider",[be,Dt,It]=dt(ce),[Ve]=bt(ce,[It]),[kt,ve]=Ve(ce),Ke=f.forwardRef((n,e)=>{const{name:t,min:r=0,max:i=100,step:d=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:m=0,defaultValue:l=[r],value:h,onValueChange:c=()=>{},onValueCommit:u=()=>{},inverted:p=!1,form:v,...x}=n,g=f.useRef(new Set),b=f.useRef(0),y=a==="horizontal"?At:Mt,[S=[],N]=ct({prop:h,defaultProp:l,onChange:C=>{[...g.current][b.current]?.focus(),c(C)}}),j=f.useRef(S);function E(C){const k=zt(S,C);A(C,k)}function R(C){A(C,b.current)}function I(){const C=j.current[b.current];S[b.current]!==C&&u(S)}function A(C,k,{commit:M}={commit:!1}){const q=Lt(d),Q=Ht(Math.round((C-r)/d)*d+r,q),w=Ie(Q,[r,i]);N((_=[])=>{const D=Bt(_,w,k);if($t(D,m*d)){b.current=D.indexOf(w);const K=String(D)!==String(_);return K&&M&&u(D),K?D:_}else return _})}return s.jsx(kt,{scope:n.__scopeSlider,name:t,disabled:o,min:r,max:i,valueIndexToChangeRef:b,thumbs:g.current,values:S,orientation:a,form:v,children:s.jsx(be.Provider,{scope:n.__scopeSlider,children:s.jsx(be.Slot,{scope:n.__scopeSlider,children:s.jsx(y,{"aria-disabled":o,"data-disabled":o?"":void 0,...x,ref:e,onPointerDown:ae(x.onPointerDown,()=>{o||(j.current=S)}),min:r,max:i,inverted:p,onSlideStart:o?void 0:E,onSlideMove:o?void 0:R,onSlideEnd:o?void 0:I,onHomeKeyDown:()=>!o&&A(r,0,{commit:!0}),onEndKeyDown:()=>!o&&A(i,S.length-1,{commit:!0}),onStepKeyDown:({event:C,direction:k})=>{if(!o){const Q=ke.includes(C.key)||C.shiftKey&&Ae.includes(C.key)?10:1,w=b.current,_=S[w],D=d*Q*k;A(_+D,w,{commit:!0})}}})})})})});Ke.displayName=ce;var[Be,Te]=Ve(ce,{startEdge:"left",endEdge:"right",size:"width",direction:1}),At=f.forwardRef((n,e)=>{const{min:t,max:r,dir:i,inverted:d,onSlideStart:a,onSlideMove:o,onSlideEnd:m,onStepKeyDown:l,...h}=n,[c,u]=f.useState(null),p=le(e,y=>u(y)),v=f.useRef(void 0),x=mt(i),g=x==="ltr",b=g&&!d||!g&&d;function P(y){const S=v.current||c.getBoundingClientRect(),N=[0,S.width],E=we(N,b?[t,r]:[r,t]);return v.current=S,E(y-S.left)}return s.jsx(Be,{scope:n.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:s.jsx(ze,{dir:x,"data-orientation":"horizontal",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const S=P(y.clientX);a?.(S)},onSlideMove:y=>{const S=P(y.clientX);o?.(S)},onSlideEnd:()=>{v.current=void 0,m?.()},onStepKeyDown:y=>{const N=Me[b?"from-left":"from-right"].includes(y.key);l?.({event:y,direction:N?-1:1})}})})}),Mt=f.forwardRef((n,e)=>{const{min:t,max:r,inverted:i,onSlideStart:d,onSlideMove:a,onSlideEnd:o,onStepKeyDown:m,...l}=n,h=f.useRef(null),c=le(e,h),u=f.useRef(void 0),p=!i;function v(x){const g=u.current||h.current.getBoundingClientRect(),b=[0,g.height],y=we(b,p?[r,t]:[t,r]);return u.current=g,y(x-g.top)}return s.jsx(Be,{scope:n.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(ze,{"data-orientation":"vertical",...l,ref:c,style:{...l.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const g=v(x.clientY);d?.(g)},onSlideMove:x=>{const g=v(x.clientY);a?.(g)},onSlideEnd:()=>{u.current=void 0,o?.()},onStepKeyDown:x=>{const b=Me[p?"from-bottom":"from-top"].includes(x.key);m?.({event:x,direction:b?-1:1})}})})}),ze=f.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:i,onSlideEnd:d,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:m,...l}=n,h=ve(ce,t);return s.jsx(de.span,{...l,ref:e,onKeyDown:ae(n.onKeyDown,c=>{c.key==="Home"?(a(c),c.preventDefault()):c.key==="End"?(o(c),c.preventDefault()):ke.concat(Ae).includes(c.key)&&(m(c),c.preventDefault())}),onPointerDown:ae(n.onPointerDown,c=>{const u=c.target;u.setPointerCapture(c.pointerId),c.preventDefault(),h.thumbs.has(u)?u.focus():r(c)}),onPointerMove:ae(n.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&i(c)}),onPointerUp:ae(n.onPointerUp,c=>{const u=c.target;u.hasPointerCapture(c.pointerId)&&(u.releasePointerCapture(c.pointerId),d(c))})})}),Fe="SliderTrack",Oe=f.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=ve(Fe,t);return s.jsx(de.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Oe.displayName=Fe;var ye="SliderRange",$e=f.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=ve(ye,t),d=Te(ye,t),a=f.useRef(null),o=le(e,a),m=i.values.length,l=i.values.map(u=>qe(u,i.min,i.max)),h=m>1?Math.min(...l):0,c=100-Math.max(...l);return s.jsx(de.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...n.style,[d.startEdge]:h+"%",[d.endEdge]:c+"%"}})});$e.displayName=ye;var _e="SliderThumb",Le=f.forwardRef((n,e)=>{const t=Dt(n.__scopeSlider),[r,i]=f.useState(null),d=le(e,o=>i(o)),a=f.useMemo(()=>r?t().findIndex(o=>o.ref.current===r):-1,[t,r]);return s.jsx(Vt,{...n,ref:d,index:a})}),Vt=f.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:i,...d}=n,a=ve(_e,t),o=Te(_e,t),[m,l]=f.useState(null),h=le(e,P=>l(P)),c=m?a.form||!!m.closest("form"):!0,u=ft(m),p=a.values[r],v=p===void 0?0:qe(p,a.min,a.max),x=Tt(r,a.values.length),g=u?.[o.size],b=g?Ft(g,v,o.direction):0;return f.useEffect(()=>{if(m)return a.thumbs.add(m),()=>{a.thumbs.delete(m)}},[m,a.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${v}% + ${b}px)`},children:[s.jsx(be.ItemSlot,{scope:n.__scopeSlider,children:s.jsx(de.span,{role:"slider","aria-label":n["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":p,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...d,ref:h,style:p===void 0?{display:"none"}:n.style,onFocus:ae(n.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),c&&s.jsx(He,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:p},r)]})});Le.displayName=_e;var Kt="RadioBubbleInput",He=f.forwardRef(({__scopeSlider:n,value:e,...t},r)=>{const i=f.useRef(null),d=le(i,r),a=ut(e);return f.useEffect(()=>{const o=i.current;if(!o)return;const m=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(m,"value").set;if(a!==e&&h){const c=new Event("input",{bubbles:!0});h.call(o,e),o.dispatchEvent(c)}},[a,e]),s.jsx(de.input,{style:{display:"none"},...t,ref:d,defaultValue:e})});He.displayName=Kt;function Bt(n=[],e,t){const r=[...n];return r[t]=e,r.sort((i,d)=>i-d)}function qe(n,e,t){const d=100/(t-e)*(n-e);return Ie(d,[0,100])}function Tt(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function zt(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),r=Math.min(...t);return t.indexOf(r)}function Ft(n,e,t){const r=n/2,d=we([0,50],[0,r]);return(r-d(e)*t)*t}function Ot(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function $t(n,e){if(e>0){const t=Ot(n);return Math.min(...t)>=e}return!0}function we(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function Lt(n){return(String(n).split(".")[1]||"").length}function Ht(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var qt=Ke,Ut=Oe,Wt=$e,Gt=Le;function Yt(n){switch(n){case"completed":return s.jsx(rt,{className:"h-5 w-5 text-green-500"});case"processing":return s.jsx(De,{className:"h-5 w-5 animate-spin text-primary"});case"failed":return s.jsx(nt,{className:"h-5 w-5 text-destructive"});default:return null}}function Xt(n){switch(n){case"completed":return"Conversion terminée";case"processing":return"Conversion en cours...";case"failed":return"Conversion échouée";default:return"En attente"}}function Qt(n){const e=ge.c(45),{batch:t,showDetails:r,className:i}=n,d=r===void 0?!0:r,a=t.progress_percentage,o=t.status==="processing",m=t.status==="completed",l=t.status==="failed";let h;e[0]!==i?(h=se("space-y-4",i),e[0]=i,e[1]=h):h=e[1];let c;e[2]!==t.status?(c=Yt(t.status),e[2]=t.status,e[3]=c):c=e[3];let u;e[4]!==t.status?(u=Xt(t.status),e[4]=t.status,e[5]=u):u=e[5];let p;e[6]!==u?(p=s.jsx("span",{className:"font-medium",children:u}),e[6]=u,e[7]=p):p=e[7];let v;e[8]!==c||e[9]!==p?(v=s.jsxs("div",{className:"flex items-center gap-2",children:[c,p]}),e[8]=c,e[9]=p,e[10]=v):v=e[10];let x;e[11]!==t.processed_images||e[12]!==t.total_images?(x=s.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.processed_images," / ",t.total_images," images"]}),e[11]=t.processed_images,e[12]=t.total_images,e[13]=x):x=e[13];let g;e[14]!==v||e[15]!==x?(g=s.jsxs("div",{className:"flex items-center justify-between",children:[v,x]}),e[14]=v,e[15]=x,e[16]=g):g=e[16];const b=m&&"[&>div]:bg-green-500",P=l&&"[&>div]:bg-destructive";let y;e[17]!==P||e[18]!==b?(y=se("h-2",b,P),e[17]=P,e[18]=b,e[19]=y):y=e[19];let S;e[20]!==a||e[21]!==y?(S=s.jsx(st,{value:a,className:y}),e[20]=a,e[21]=y,e[22]=S):S=e[22];let N;e[23]!==a?(N=s.jsxs("span",{children:[a,"%"]}),e[23]=a,e[24]=N):N=e[24];let j;e[25]!==t.processed_images||e[26]!==t.total_images||e[27]!==o?(j=o&&s.jsxs("span",{children:["Estimation : ",Math.ceil((t.total_images-t.processed_images)*2),"s restantes"]}),e[25]=t.processed_images,e[26]=t.total_images,e[27]=o,e[28]=j):j=e[28];let E;e[29]!==N||e[30]!==j?(E=s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[N,j]}),e[29]=N,e[30]=j,e[31]=E):E=e[31];let R;e[32]!==t.images||e[33]!==d?(R=d&&t.images&&t.images.length>0&&s.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3",children:[s.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Détails par image"}),s.jsx("div",{className:"max-h-40 space-y-1 overflow-y-auto",children:t.images.map(Jt)})]}),e[32]=t.images,e[33]=d,e[34]=R):R=e[34];let I;e[35]!==t.images||e[36]!==m?(I=m&&s.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-900 dark:bg-green-950",children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-200",children:"✓ Toutes les images ont été converties avec succès !"}),t.images&&s.jsxs("p",{className:"mt-1 text-sm text-green-700 dark:text-green-300",children:[t.images.filter(Zt).length," images prêtes à télécharger"]})]}),e[35]=t.images,e[36]=m,e[37]=I):I=e[37];let A;return e[38]!==S||e[39]!==E||e[40]!==R||e[41]!==I||e[42]!==h||e[43]!==g?(A=s.jsxs("div",{className:h,children:[g,S,E,R,I]}),e[38]=S,e[39]=E,e[40]=R,e[41]=I,e[42]=h,e[43]=g,e[44]=A):A=e[44],A}function Zt(n){return n.status==="completed"}function Jt(n){return s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"truncate max-w-[200px]",title:n.original.name,children:n.original.name}),s.jsxs("span",{className:se("text-xs",n.status==="completed"&&"text-green-600",n.status==="processing"&&"text-primary",n.status==="failed"&&"text-destructive"),children:[n.status==="completed"&&"✓ Converti",n.status==="processing"&&"⟳ En cours",n.status==="failed"&&"✗ Échec",n.status==="pending"&&"○ En attente"]})]},n.id)}function es(n){const e=ge.c(26);let t,r,i,d,a,o;e[0]!==n?({className:t,defaultValue:r,value:o,min:d,max:a,...i}=n,e[0]=n,e[1]=t,e[2]=r,e[3]=i,e[4]=d,e[5]=a,e[6]=o):(t=e[1],r=e[2],i=e[3],d=e[4],a=e[5],o=e[6]);const m=d===void 0?0:d,l=a===void 0?100:a;let h;e[7]!==r||e[8]!==l||e[9]!==m||e[10]!==o?(h=Array.isArray(o)?o:Array.isArray(r)?r:[m,l],e[7]=r,e[8]=l,e[9]=m,e[10]=o,e[11]=h):h=e[11];const c=h;let u;e[12]!==t?(u=se("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),e[12]=t,e[13]=u):u=e[13];let p;e[14]===Symbol.for("react.memo_cache_sentinel")?(p=se("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),e[14]=p):p=e[14];let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(Ut,{"data-slot":"slider-track",className:p,children:s.jsx(Wt,{"data-slot":"slider-range",className:se("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),e[15]=v):v=e[15];let x;e[16]!==c.length?(x=Array.from({length:c.length},ts),e[16]=c.length,e[17]=x):x=e[17];let g;return e[18]!==r||e[19]!==l||e[20]!==m||e[21]!==i||e[22]!==u||e[23]!==x||e[24]!==o?(g=s.jsxs(qt,{"data-slot":"slider",defaultValue:r,value:o,min:m,max:l,className:u,...i,children:[v,x]}),e[18]=r,e[19]=l,e[20]=m,e[21]=i,e[22]=u,e[23]=x,e[24]=o,e[25]=g):g=e[25],g}function ts(n,e){return s.jsx(Gt,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},e)}function ss(n){const e=ge.c(104),{settings:t,onChange:r,faviconUsage:i,disabled:d,className:a}=n,o=d===void 0?!1:d;let m;e[0]!==r||e[1]!==t?(m=(V,Se)=>{r({...t,[V]:Se})},e[0]=r,e[1]=t,e[2]=m):m=e[2];const l=m;let h;e[3]!==a?(h=se("space-y-6",a),e[3]=a,e[4]=h):h=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(te,{htmlFor:"format",children:"Format de sortie"}),e[5]=c):c=e[5];let u;e[6]!==l?(u=V=>l("format",V),e[6]=l,e[7]=u):u=e[7];let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(it,{id:"format",children:s.jsx(at,{placeholder:"Sélectionnez un format"})}),e[8]=p):p=e[8];let v;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(je,{value:"webp",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:"WebP"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Excellent support navigateurs, bonne compression"})]})}),e[9]=v):v=e[9];let x;e[10]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(je,{value:"avif",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:"AVIF"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Meilleure compression, support croissant"})]})}),e[10]=x):x=e[10];let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsxs(lt,{children:[v,x,s.jsx(je,{value:"both",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:"WebP + AVIF"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Les deux formats pour une compatibilité maximale"})]})})]}),e[11]=g):g=e[11];let b;e[12]!==o||e[13]!==t.format||e[14]!==u?(b=s.jsxs("div",{className:"space-y-2",children:[c,s.jsxs(ot,{value:t.format,onValueChange:u,disabled:o,children:[p,g]})]}),e[12]=o,e[13]=t.format,e[14]=u,e[15]=b):b=e[15];let P;e[16]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(te,{children:"Qualité de compression"}),e[16]=P):P=e[16];let y;e[17]!==t.quality?(y=s.jsxs("div",{className:"flex items-center justify-between",children:[P,s.jsxs("span",{className:"text-sm font-medium",children:[t.quality,"%"]})]}),e[17]=t.quality,e[18]=y):y=e[18];let S;e[19]!==t.quality?(S=[t.quality],e[19]=t.quality,e[20]=S):S=e[20];let N;e[21]!==l?(N=V=>{const[Se]=V;return l("quality",Se)},e[21]=l,e[22]=N):N=e[22];let j;e[23]!==o||e[24]!==S||e[25]!==N?(j=s.jsx(es,{value:S,onValueChange:N,min:1,max:100,step:1,disabled:o,className:"py-2"}),e[23]=o,e[24]=S,e[25]=N,e[26]=j):j=e[26];let E;e[27]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Petite taille"}),s.jsx("span",{children:"Haute qualité"})]}),e[27]=E):E=e[27];let R;e[28]!==y||e[29]!==j?(R=s.jsxs("div",{className:"space-y-4",children:[y,j,E]}),e[28]=y,e[29]=j,e[30]=R):R=e[30];let I;e[31]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(te,{children:"Dimensions maximales (optionnel)"}),e[31]=I):I=e[31];let A;e[32]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(te,{htmlFor:"max-width",className:"text-xs text-muted-foreground",children:"Largeur max (px)"}),e[32]=A):A=e[32];const C=t.max_width??"";let k;e[33]!==l?(k=V=>l("max_width",V.target.value?parseInt(V.target.value):null),e[33]=l,e[34]=k):k=e[34];let M;e[35]!==o||e[36]!==C||e[37]!==k?(M=s.jsxs("div",{className:"space-y-2",children:[A,s.jsx(Ee,{id:"max-width",type:"number",placeholder:"Ex: 1920",value:C,onChange:k,min:1,max:4096,disabled:o})]}),e[35]=o,e[36]=C,e[37]=k,e[38]=M):M=e[38];let q;e[39]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(te,{htmlFor:"max-height",className:"text-xs text-muted-foreground",children:"Hauteur max (px)"}),e[39]=q):q=e[39];const Q=t.max_height??"";let w;e[40]!==l?(w=V=>l("max_height",V.target.value?parseInt(V.target.value):null),e[40]=l,e[41]=w):w=e[41];let _;e[42]!==o||e[43]!==Q||e[44]!==w?(_=s.jsxs("div",{className:"space-y-2",children:[q,s.jsx(Ee,{id:"max-height",type:"number",placeholder:"Ex: 1080",value:Q,onChange:w,min:1,max:4096,disabled:o})]}),e[42]=o,e[43]=Q,e[44]=w,e[45]=_):_=e[45];let D;e[46]!==M||e[47]!==_?(D=s.jsxs("div",{className:"space-y-4",children:[I,s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M,_]})]}),e[46]=M,e[47]=_,e[48]=D):D=e[48];let K;e[49]!==l?(K=V=>l("maintain_aspect_ratio",V),e[49]=l,e[50]=K):K=e[50];let B;e[51]!==o||e[52]!==t.maintain_aspect_ratio||e[53]!==K?(B=s.jsx(Pe,{id:"maintain-ratio",checked:t.maintain_aspect_ratio,onCheckedChange:K,disabled:o}),e[51]=o,e[52]=t.maintain_aspect_ratio,e[53]=K,e[54]=B):B=e[54];let Z;e[55]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(te,{htmlFor:"maintain-ratio",className:"cursor-pointer",children:"Conserver les proportions"}),e[55]=Z):Z=e[55];let T;e[56]!==B?(T=s.jsxs("div",{className:"flex items-center space-x-2",children:[B,Z]}),e[56]=B,e[57]=T):T=e[57];const G=t.generate_favicons??!1;let z;e[58]!==l?(z=V=>l("generate_favicons",V),e[58]=l,e[59]=z):z=e[59];const Y=o||i?.plan==="free"&&i?.remaining===0;let F;e[60]!==G||e[61]!==z||e[62]!==Y?(F=s.jsx(Pe,{id:"generate-favicons",checked:G,onCheckedChange:z,disabled:Y}),e[60]=G,e[61]=z,e[62]=Y,e[63]=F):F=e[63];let U;e[64]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsxs(te,{htmlFor:"generate-favicons",className:"cursor-pointer flex items-center gap-2",children:[s.jsx(ht,{className:"h-4 w-4"}),"Générer les favicons & icônes app"]}),e[64]=U):U=e[64];let O;e[65]!==i?(O=i?.plan==="free"&&s.jsxs(Ce,{variant:"outline",className:"text-xs",children:[i.remaining,"/",i.limit," restant"]}),e[65]=i,e[66]=O):O=e[66];let $;e[67]!==i?.plan?($=i?.plan==="pro"&&s.jsx(Ce,{variant:"secondary",className:"text-xs",children:"Pro"}),e[67]=i?.plan,e[68]=$):$=e[68];let L;e[69]!==F||e[70]!==O||e[71]!==$?(L=s.jsxs("div",{className:"flex items-center space-x-2",children:[F,U,O,$]}),e[69]=F,e[70]=O,e[71]=$,e[72]=L):L=e[72];let W;e[73]!==t.generate_favicons?(W=t.generate_favicons&&s.jsx("p",{className:"text-xs text-muted-foreground ml-6",children:"Génère 6 tailles : 16×16, 32×32, 180×180 (Apple), 192×192 & 512×512 (Android), 150×150 (Windows)"}),e[73]=t.generate_favicons,e[74]=W):W=e[74];let H;e[75]!==L||e[76]!==W?(H=s.jsxs("div",{className:"space-y-2",children:[L,W]}),e[75]=L,e[76]=W,e[77]=H):H=e[77];let ee;e[78]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx("p",{className:"font-medium",children:"Résumé des paramètres :"}),e[78]=ee):ee=e[78];let X;e[79]!==t.format?(X=t.format.toUpperCase(),e[79]=t.format,e[80]=X):X=e[80];let J;e[81]!==X?(J=s.jsxs("li",{children:["• Format : ",X]}),e[81]=X,e[82]=J):J=e[82];let ne;e[83]!==t.quality?(ne=s.jsxs("li",{children:["• Qualité : ",t.quality,"%"]}),e[83]=t.quality,e[84]=ne):ne=e[84];let re;e[85]!==t.maintain_aspect_ratio||e[86]!==t.max_height||e[87]!==t.max_width?(re=(t.max_width||t.max_height)&&s.jsxs("li",{children:["• Dimensions max : ",t.max_width||"∞"," × ",t.max_height||"∞"," px",t.maintain_aspect_ratio&&" (proportions conservées)"]}),e[85]=t.maintain_aspect_ratio,e[86]=t.max_height,e[87]=t.max_width,e[88]=re):re=e[88];let oe;e[89]!==t.generate_favicons?(oe=t.generate_favicons&&s.jsx("li",{children:"• Favicons : 6 tailles générées"}),e[89]=t.generate_favicons,e[90]=oe):oe=e[90];let ie;e[91]!==J||e[92]!==ne||e[93]!==re||e[94]!==oe?(ie=s.jsxs("div",{className:"rounded-lg border bg-muted/50 p-3 text-sm",children:[ee,s.jsxs("ul",{className:"mt-2 space-y-1 text-muted-foreground",children:[J,ne,re,oe]})]}),e[91]=J,e[92]=ne,e[93]=re,e[94]=oe,e[95]=ie):ie=e[95];let me;return e[96]!==b||e[97]!==R||e[98]!==D||e[99]!==h||e[100]!==T||e[101]!==H||e[102]!==ie?(me=s.jsxs("div",{className:h,children:[b,R,D,T,H,ie]}),e[96]=b,e[97]=R,e[98]=D,e[99]=h,e[100]=T,e[101]=H,e[102]=ie,e[103]=me):me=e[103],me}const ns={format:"webp",quality:80,max_width:null,max_height:null,maintain_aspect_ratio:!0};function zs(n){const e=ge.c(66),{batchId:t,initialBatch:r}=n,{auth:i}=Ue().props,d=i?.isPro??!1,[a,o]=f.useState(ns);let m;e[0]!==r?.keywords?(m=r?.keywords??[],e[0]=r?.keywords,e[1]=m):m=e[1];const[l,h]=f.useState(m),{suggestions:c,fetchSuggestions:u}=Qe(),{batch:p,isConverting:v,error:x,startConversion:g,pollProgress:b}=pt();let P,y;e[2]!==t||e[3]!==r||e[4]!==b?(P=()=>{r?h(r.keywords??[]):b(t)},y=[t,r,b],e[2]=t,e[3]=r,e[4]=b,e[5]=P,e[6]=y):(P=e[5],y=e[6]),f.useEffect(P,y);let S,N;e[7]!==p||e[8]!==l.length?(S=()=>{p?.keywords&&p.keywords.length>0&&l.length===0&&h(p.keywords)},N=[p,l.length],e[7]=p,e[8]=l.length,e[9]=S,e[10]=N):(S=e[9],N=e[10]),f.useEffect(S,N);const j=p??r;let E;e[11]!==j?.images?.[0]?.original.name||e[12]!==u||e[13]!==l?(E=()=>{const H=j?.images?.[0]?.original.name;u(H,l)},e[11]=j?.images?.[0]?.original.name,e[12]=u,e[13]=l,e[14]=E):E=e[14];const R=E;let I;e[15]===Symbol.for("react.memo_cache_sentinel")?(I=H=>{h(ee=>{const X=[...ee];return H.forEach(J=>{X.includes(J)||X.push(J)}),X})},e[15]=I):I=e[15];const A=I;let C;e[16]!==t||e[17]!==l||e[18]!==a||e[19]!==g?(C=async()=>{try{await g(t,a,l)}catch(H){console.error("Conversion error:",H)}},e[16]=t,e[17]=l,e[18]=a,e[19]=g,e[20]=C):C=e[20];const k=C;let M;e[21]!==t?(M=()=>{Re.visit(`/result/${t}`)},e[21]=t,e[22]=M):M=e[22];const q=M,Q=os,w=j?.status==="completed",_=j?.status==="processing"||v;let D;e[23]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(Ye,{...Xe.convert}),e[23]=D):D=e[23];let K;e[24]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(xt,{className:"mr-2 h-4 w-4"}),e[24]=K):K=e[24];let B;e[25]!==_?(B=s.jsxs(ue,{variant:"ghost",onClick:Q,className:"mb-6",disabled:_,children:[K,"Retour"]}),e[25]=_,e[26]=B):B=e[26];let Z;e[27]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-2 text-3xl font-bold",children:"Paramètres de conversion"}),s.jsx("p",{className:"text-muted-foreground",children:"Configurez les options de conversion et lancez le traitement"})]}),e[27]=Z):Z=e[27];let T;e[28]!==j?(T=j?.images&&j.images.length>0&&s.jsxs(fe,{children:[s.jsx(he,{children:s.jsxs(pe,{children:[j.images.length," image",j.images.length>1?"s":""," à convertir"]})}),s.jsx(xe,{children:s.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:grid-cols-4 md:grid-cols-6",children:[j.images.slice(0,12).map(rs),j.images.length>12&&s.jsxs("div",{className:"flex items-center justify-center rounded-lg border bg-muted text-sm text-muted-foreground",children:["+",j.images.length-12," autres"]})]})})]}),e[28]=j,e[29]=T):T=e[29];let G;e[30]!==j||e[31]!==w||e[32]!==_?(G=(_||w)&&j&&s.jsxs(fe,{children:[s.jsx(he,{children:s.jsx(pe,{children:"Progression"})}),s.jsx(xe,{children:s.jsx(Qt,{batch:j})})]}),e[30]=j,e[31]=w,e[32]=_,e[33]=G):G=e[33];let z;e[34]!==R||e[35]!==w||e[36]!==d||e[37]!==_||e[38]!==l||e[39]!==a||e[40]!==c?(z=!_&&!w&&s.jsxs(s.Fragment,{children:[s.jsxs(fe,{children:[s.jsx(he,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"h-5 w-5"}),"Mots-clés SEO"]}),s.jsx(Ne,{className:"mt-1.5",children:"Modifiez ou ajoutez des mots-clés pour la génération SEO"})]}),s.jsx(Ze,{onKeywordsGenerated:A,disabled:_,isPro:d})]})}),s.jsx(xe,{children:s.jsx(Je,{keywords:l,onChange:h,suggestions:c,onFetchSuggestions:R})})]}),s.jsxs(fe,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-5 w-5"}),"Paramètres de conversion"]}),s.jsx(Ne,{children:"Choisissez le format, la qualité et les dimensions"})]}),s.jsx(xe,{children:s.jsx(ss,{settings:a,onChange:o})})]})]}),e[34]=R,e[35]=w,e[36]=d,e[37]=_,e[38]=l,e[39]=a,e[40]=c,e[41]=z):z=e[41];let Y;e[42]!==x?(Y=x&&s.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:s.jsx("p",{className:"text-destructive",children:x})}),e[42]=x,e[43]=Y):Y=e[43];let F;e[44]!==k||e[45]!==w||e[46]!==_?(F=!_&&!w&&s.jsxs(ue,{size:"lg",onClick:k,className:"gap-2",children:[s.jsx(jt,{className:"h-5 w-5"}),"Lancer la conversion"]}),e[44]=k,e[45]=w,e[46]=_,e[47]=F):F=e[47];let U;e[48]!==_?(U=_&&s.jsxs(ue,{size:"lg",disabled:!0,className:"gap-2",children:[s.jsx(De,{className:"h-5 w-5 animate-spin"}),"Conversion en cours..."]}),e[48]=_,e[49]=U):U=e[49];let O;e[50]!==q||e[51]!==w?(O=w&&s.jsxs(ue,{size:"lg",onClick:q,className:"gap-2",children:["Voir les résultats",s.jsx(et,{className:"h-5 w-5"})]}),e[50]=q,e[51]=w,e[52]=O):O=e[52];let $;e[53]!==F||e[54]!==U||e[55]!==O?($=s.jsxs("div",{className:"flex justify-center gap-4",children:[F,U,O]}),e[53]=F,e[54]=U,e[55]=O,e[56]=$):$=e[56];let L;e[57]!==T||e[58]!==G||e[59]!==z||e[60]!==Y||e[61]!==$?(L=s.jsxs("div",{className:"mx-auto max-w-4xl space-y-8",children:[Z,T,G,z,Y,$]}),e[57]=T,e[58]=G,e[59]=z,e[60]=Y,e[61]=$,e[62]=L):L=e[62];let W;return e[63]!==B||e[64]!==L?(W=s.jsxs(s.Fragment,{children:[D,s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[B,L]})})]}),e[63]=B,e[64]=L,e[65]=W):W=e[65],W}function rs(n){return s.jsx(tt,{image:n},n.id)}function os(){Re.visit("/")}export{zs as default};
