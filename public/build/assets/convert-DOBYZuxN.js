import{r as p,j as s,c as ge,f as Ue,e as Re}from"./app-akdF0UQF.js";import{c as We,d as Ge,u as ce,b as ae,B as ue}from"./button-BdOT1yAC.js";import{S as Ye}from"./seo-head-DktdDTso.js";import{b as fe,C as pe,a as he,c as xe,d as Ne}from"./card-CDiYXeb9.js";import{u as Xe,A as Qe,K as Ze,a as Je}from"./use-keyword-suggestions-DGxklIG1.js";import{I as et}from"./image-card-2oIMfsjJ.js";import{P as tt}from"./progress-DmsJ_EE7.js";import{X as st}from"./x-DN597F1n.js";import{L as De}from"./loader-circle-CJcm5ByM.js";import{C as nt}from"./check-BKV3Fl0E.js";import{B as Ce}from"./badge-DYF6X-zs.js";import{C as Pe}from"./checkbox-BQI5wnAa.js";import{I as Ee}from"./input-Cs1fsYbE.js";import{L as ie}from"./label-CATpRmWc.js";import{e as ke,S as rt,a as ot,b as it,d as je,c as at}from"./select-2uku2TnE.js";import{u as lt,c as le}from"./index-D6SAxgfg.js";import{c as ct,u as dt}from"./index-Cnj7nTTh.js";import{u as mt}from"./index-BFvfTCDL.js";import{u as ut}from"./index-C91kYN7g.js";import{I as ft}from"./image-BdZwaCyV.js";import{u as pt}from"./use-conversion-D7EJU42S.js";import{u as ht}from"./useTranslation-C6fWKkAI.js";import{S as xt}from"./sparkles-BhJuAmk8.js";import{S as gt}from"./settings-DIMWCOz3.js";import{A as vt}from"./arrow-left-DlH8pV6o.js";/* empty css            */import"./dialog-DJcMuMHX.js";import"./index-DYJll8sb.js";import"./index-CwlvpiCt.js";import"./lock-CsK3Em9R.js";import"./crown-BqGY5dte.js";import"./index-DWathVxY.js";import"./index-D_gUAlRl.js";import"./index-CjOEJVw9.js";import"./index-CtrMaZOQ.js";const St=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],jt=We("Play",St);function bt(n,e=[]){let t=[];function o(c,a){const i=p.createContext(a),m=t.length;t=[...t,a];const d=l=>{const{scope:f,children:g,...h}=l,v=f?.[n]?.[m]||i,x=p.useMemo(()=>h,Object.values(h));return s.jsx(v.Provider,{value:x,children:g})};d.displayName=c+"Provider";function u(l,f){const g=f?.[n]?.[m]||i,h=p.useContext(g);if(h)return h;if(a!==void 0)return a;throw new Error(`\`${l}\` must be used within \`${c}\``)}return[d,u]}const r=()=>{const c=t.map(a=>p.createContext(a));return function(i){const m=i?.[n]||c;return p.useMemo(()=>({[`__scope${n}`]:{...i,[n]:m}}),[i,m])}};return r.scopeName=n,[o,yt(r,...e)]}function yt(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const o=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(c){const a=o.reduce((i,{useScope:m,scopeName:d})=>{const l=m(c)[`__scope${d}`];return{...i,...l}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function _t(n){const e=wt(n),t=p.forwardRef((o,r)=>{const{children:c,...a}=o,i=p.Children.toArray(c),m=i.find(Ct);if(m){const d=m.props.children,u=i.map(l=>l===m?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:l);return s.jsx(e,{...a,ref:r,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return s.jsx(e,{...a,ref:r,children:c})});return t.displayName=`${n}.Slot`,t}function wt(n){const e=p.forwardRef((t,o)=>{const{children:r,...c}=t;if(p.isValidElement(r)){const a=Et(r),i=Pt(c,r.props);return r.type!==p.Fragment&&(i.ref=o?Ge(o,a):a),p.cloneElement(r,i)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Nt=Symbol("radix.slottable");function Ct(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Nt}function Pt(n,e){const t={...e};for(const o in e){const r=n[o],c=e[o];/^on[A-Z]/.test(o)?r&&c?t[o]=(...i)=>{const m=c(...i);return r(...i),m}:r&&(t[o]=r):o==="style"?t[o]={...r,...c}:o==="className"&&(t[o]=[r,c].filter(Boolean).join(" "))}return{...n,...t}}function Et(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Rt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=Rt.reduce((n,e)=>{const t=_t(`Primitive.${e}`),o=p.forwardRef((r,c)=>{const{asChild:a,...i}=r,m=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(m,{...i,ref:c})});return o.displayName=`Primitive.${e}`,{...n,[e]:o}},{}),Ie=["PageUp","PageDown"],Ae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Me={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},de="Slider",[be,Dt,kt]=ct(de),[Ve]=bt(de,[kt]),[It,ve]=Ve(de),Ke=p.forwardRef((n,e)=>{const{name:t,min:o=0,max:r=100,step:c=1,orientation:a="horizontal",disabled:i=!1,minStepsBetweenThumbs:m=0,defaultValue:d=[o],value:u,onValueChange:l=()=>{},onValueCommit:f=()=>{},inverted:g=!1,form:h,...v}=n,x=p.useRef(new Set),j=p.useRef(0),b=a==="horizontal"?At:Mt,[S=[],N]=lt({prop:u,defaultProp:d,onChange:D=>{[...x.current][j.current]?.focus(),l(D)}}),C=p.useRef(S);function y(D){const k=Ft(S,D);R(D,k)}function E(D){R(D,j.current)}function A(){const D=C.current[j.current];S[j.current]!==D&&f(S)}function R(D,k,{commit:M}={commit:!1}){const G=Lt(c),X=Ot(Math.round((D-o)/c)*c+o,G),V=ke(X,[o,r]);N((w=[])=>{const _=Bt(w,V,k);if(Ht(_,m*c)){j.current=_.indexOf(V);const K=String(_)!==String(w);return K&&M&&f(_),K?_:w}else return w})}return s.jsx(It,{scope:n.__scopeSlider,name:t,disabled:i,min:o,max:r,valueIndexToChangeRef:j,thumbs:x.current,values:S,orientation:a,form:h,children:s.jsx(be.Provider,{scope:n.__scopeSlider,children:s.jsx(be.Slot,{scope:n.__scopeSlider,children:s.jsx(b,{"aria-disabled":i,"data-disabled":i?"":void 0,...v,ref:e,onPointerDown:le(v.onPointerDown,()=>{i||(C.current=S)}),min:o,max:r,inverted:g,onSlideStart:i?void 0:y,onSlideMove:i?void 0:E,onSlideEnd:i?void 0:A,onHomeKeyDown:()=>!i&&R(o,0,{commit:!0}),onEndKeyDown:()=>!i&&R(r,S.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:k})=>{if(!i){const X=Ie.includes(D.key)||D.shiftKey&&Ae.includes(D.key)?10:1,V=j.current,w=S[V],_=c*X*k;R(w+_,V,{commit:!0})}}})})})})});Ke.displayName=de;var[Be,Te]=Ve(de,{startEdge:"left",endEdge:"right",size:"width",direction:1}),At=p.forwardRef((n,e)=>{const{min:t,max:o,dir:r,inverted:c,onSlideStart:a,onSlideMove:i,onSlideEnd:m,onStepKeyDown:d,...u}=n,[l,f]=p.useState(null),g=ce(e,b=>f(b)),h=p.useRef(void 0),v=dt(r),x=v==="ltr",j=x&&!c||!x&&c;function P(b){const S=h.current||l.getBoundingClientRect(),N=[0,S.width],y=we(N,j?[t,o]:[o,t]);return h.current=S,y(b-S.left)}return s.jsx(Be,{scope:n.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:s.jsx(Fe,{dir:v,"data-orientation":"horizontal",...u,ref:g,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const S=P(b.clientX);a?.(S)},onSlideMove:b=>{const S=P(b.clientX);i?.(S)},onSlideEnd:()=>{h.current=void 0,m?.()},onStepKeyDown:b=>{const N=Me[j?"from-left":"from-right"].includes(b.key);d?.({event:b,direction:N?-1:1})}})})}),Mt=p.forwardRef((n,e)=>{const{min:t,max:o,inverted:r,onSlideStart:c,onSlideMove:a,onSlideEnd:i,onStepKeyDown:m,...d}=n,u=p.useRef(null),l=ce(e,u),f=p.useRef(void 0),g=!r;function h(v){const x=f.current||u.current.getBoundingClientRect(),j=[0,x.height],b=we(j,g?[o,t]:[t,o]);return f.current=x,b(v-x.top)}return s.jsx(Be,{scope:n.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:s.jsx(Fe,{"data-orientation":"vertical",...d,ref:l,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const x=h(v.clientY);c?.(x)},onSlideMove:v=>{const x=h(v.clientY);a?.(x)},onSlideEnd:()=>{f.current=void 0,i?.()},onStepKeyDown:v=>{const j=Me[g?"from-bottom":"from-top"].includes(v.key);m?.({event:v,direction:j?-1:1})}})})}),Fe=p.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:o,onSlideMove:r,onSlideEnd:c,onHomeKeyDown:a,onEndKeyDown:i,onStepKeyDown:m,...d}=n,u=ve(de,t);return s.jsx(me.span,{...d,ref:e,onKeyDown:le(n.onKeyDown,l=>{l.key==="Home"?(a(l),l.preventDefault()):l.key==="End"?(i(l),l.preventDefault()):Ie.concat(Ae).includes(l.key)&&(m(l),l.preventDefault())}),onPointerDown:le(n.onPointerDown,l=>{const f=l.target;f.setPointerCapture(l.pointerId),l.preventDefault(),u.thumbs.has(f)?f.focus():o(l)}),onPointerMove:le(n.onPointerMove,l=>{l.target.hasPointerCapture(l.pointerId)&&r(l)}),onPointerUp:le(n.onPointerUp,l=>{const f=l.target;f.hasPointerCapture(l.pointerId)&&(f.releasePointerCapture(l.pointerId),c(l))})})}),$e="SliderTrack",ze=p.forwardRef((n,e)=>{const{__scopeSlider:t,...o}=n,r=ve($e,t);return s.jsx(me.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...o,ref:e})});ze.displayName=$e;var ye="SliderRange",He=p.forwardRef((n,e)=>{const{__scopeSlider:t,...o}=n,r=ve(ye,t),c=Te(ye,t),a=p.useRef(null),i=ce(e,a),m=r.values.length,d=r.values.map(f=>qe(f,r.min,r.max)),u=m>1?Math.min(...d):0,l=100-Math.max(...d);return s.jsx(me.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...o,ref:i,style:{...n.style,[c.startEdge]:u+"%",[c.endEdge]:l+"%"}})});He.displayName=ye;var _e="SliderThumb",Le=p.forwardRef((n,e)=>{const t=Dt(n.__scopeSlider),[o,r]=p.useState(null),c=ce(e,i=>r(i)),a=p.useMemo(()=>o?t().findIndex(i=>i.ref.current===o):-1,[t,o]);return s.jsx(Vt,{...n,ref:c,index:a})}),Vt=p.forwardRef((n,e)=>{const{__scopeSlider:t,index:o,name:r,...c}=n,a=ve(_e,t),i=Te(_e,t),[m,d]=p.useState(null),u=ce(e,P=>d(P)),l=m?a.form||!!m.closest("form"):!0,f=ut(m),g=a.values[o],h=g===void 0?0:qe(g,a.min,a.max),v=Tt(o,a.values.length),x=f?.[i.size],j=x?$t(x,h,i.direction):0;return p.useEffect(()=>{if(m)return a.thumbs.add(m),()=>{a.thumbs.delete(m)}},[m,a.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${h}% + ${j}px)`},children:[s.jsx(be.ItemSlot,{scope:n.__scopeSlider,children:s.jsx(me.span,{role:"slider","aria-label":n["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...c,ref:u,style:g===void 0?{display:"none"}:n.style,onFocus:le(n.onFocus,()=>{a.valueIndexToChangeRef.current=o})})}),l&&s.jsx(Oe,{name:r??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},o)]})});Le.displayName=_e;var Kt="RadioBubbleInput",Oe=p.forwardRef(({__scopeSlider:n,value:e,...t},o)=>{const r=p.useRef(null),c=ce(r,o),a=mt(e);return p.useEffect(()=>{const i=r.current;if(!i)return;const m=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(m,"value").set;if(a!==e&&u){const l=new Event("input",{bubbles:!0});u.call(i,e),i.dispatchEvent(l)}},[a,e]),s.jsx(me.input,{style:{display:"none"},...t,ref:c,defaultValue:e})});Oe.displayName=Kt;function Bt(n=[],e,t){const o=[...n];return o[t]=e,o.sort((r,c)=>r-c)}function qe(n,e,t){const c=100/(t-e)*(n-e);return ke(c,[0,100])}function Tt(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function Ft(n,e){if(n.length===1)return 0;const t=n.map(r=>Math.abs(r-e)),o=Math.min(...t);return t.indexOf(o)}function $t(n,e,t){const o=n/2,c=we([0,50],[0,o]);return(o-c(e)*t)*t}function zt(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function Ht(n,e){if(e>0){const t=zt(n);return Math.min(...t)>=e}return!0}function we(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(n[1]-n[0]);return e[0]+o*(t-n[0])}}function Lt(n){return(String(n).split(".")[1]||"").length}function Ot(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var qt=Ke,Ut=ze,Wt=He,Gt=Le;function Yt(n){switch(n){case"completed":return s.jsx(nt,{className:"h-5 w-5 text-green-500"});case"processing":return s.jsx(De,{className:"h-5 w-5 animate-spin text-primary"});case"failed":return s.jsx(st,{className:"h-5 w-5 text-destructive"});default:return null}}function Xt(n){switch(n){case"completed":return"Conversion terminée";case"processing":return"Conversion en cours...";case"failed":return"Conversion échouée";default:return"En attente"}}function Qt(n){const e=ge.c(45),{batch:t,showDetails:o,className:r}=n,c=o===void 0?!0:o,a=t.progress_percentage,i=t.status==="processing",m=t.status==="completed",d=t.status==="failed";let u;e[0]!==r?(u=ae("space-y-4",r),e[0]=r,e[1]=u):u=e[1];let l;e[2]!==t.status?(l=Yt(t.status),e[2]=t.status,e[3]=l):l=e[3];let f;e[4]!==t.status?(f=Xt(t.status),e[4]=t.status,e[5]=f):f=e[5];let g;e[6]!==f?(g=s.jsx("span",{className:"font-medium",children:f}),e[6]=f,e[7]=g):g=e[7];let h;e[8]!==l||e[9]!==g?(h=s.jsxs("div",{className:"flex items-center gap-2",children:[l,g]}),e[8]=l,e[9]=g,e[10]=h):h=e[10];let v;e[11]!==t.processed_images||e[12]!==t.total_images?(v=s.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.processed_images," / ",t.total_images," images"]}),e[11]=t.processed_images,e[12]=t.total_images,e[13]=v):v=e[13];let x;e[14]!==h||e[15]!==v?(x=s.jsxs("div",{className:"flex items-center justify-between",children:[h,v]}),e[14]=h,e[15]=v,e[16]=x):x=e[16];const j=m&&"[&>div]:bg-green-500",P=d&&"[&>div]:bg-destructive";let b;e[17]!==P||e[18]!==j?(b=ae("h-2",j,P),e[17]=P,e[18]=j,e[19]=b):b=e[19];let S;e[20]!==a||e[21]!==b?(S=s.jsx(tt,{value:a,className:b}),e[20]=a,e[21]=b,e[22]=S):S=e[22];let N;e[23]!==a?(N=s.jsxs("span",{children:[a,"%"]}),e[23]=a,e[24]=N):N=e[24];let C;e[25]!==t.processed_images||e[26]!==t.total_images||e[27]!==i?(C=i&&s.jsxs("span",{children:["Estimation : ",Math.ceil((t.total_images-t.processed_images)*2),"s restantes"]}),e[25]=t.processed_images,e[26]=t.total_images,e[27]=i,e[28]=C):C=e[28];let y;e[29]!==N||e[30]!==C?(y=s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[N,C]}),e[29]=N,e[30]=C,e[31]=y):y=e[31];let E;e[32]!==t.images||e[33]!==c?(E=c&&t.images&&t.images.length>0&&s.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3",children:[s.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Détails par image"}),s.jsx("div",{className:"max-h-40 space-y-1 overflow-y-auto",children:t.images.map(Jt)})]}),e[32]=t.images,e[33]=c,e[34]=E):E=e[34];let A;e[35]!==t.images||e[36]!==m?(A=m&&s.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-900 dark:bg-green-950",children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-200",children:"✓ Toutes les images ont été converties avec succès !"}),t.images&&s.jsxs("p",{className:"mt-1 text-sm text-green-700 dark:text-green-300",children:[t.images.filter(Zt).length," images prêtes à télécharger"]})]}),e[35]=t.images,e[36]=m,e[37]=A):A=e[37];let R;return e[38]!==S||e[39]!==y||e[40]!==E||e[41]!==A||e[42]!==u||e[43]!==x?(R=s.jsxs("div",{className:u,children:[x,S,y,E,A]}),e[38]=S,e[39]=y,e[40]=E,e[41]=A,e[42]=u,e[43]=x,e[44]=R):R=e[44],R}function Zt(n){return n.status==="completed"}function Jt(n){return s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"truncate max-w-[200px]",title:n.original.name,children:n.original.name}),s.jsxs("span",{className:ae("text-xs",n.status==="completed"&&"text-green-600",n.status==="processing"&&"text-primary",n.status==="failed"&&"text-destructive"),children:[n.status==="completed"&&"✓ Converti",n.status==="processing"&&"⟳ En cours",n.status==="failed"&&"✗ Échec",n.status==="pending"&&"○ En attente"]})]},n.id)}function es(n){const e=ge.c(26);let t,o,r,c,a,i;e[0]!==n?({className:t,defaultValue:o,value:i,min:c,max:a,...r}=n,e[0]=n,e[1]=t,e[2]=o,e[3]=r,e[4]=c,e[5]=a,e[6]=i):(t=e[1],o=e[2],r=e[3],c=e[4],a=e[5],i=e[6]);const m=c===void 0?0:c,d=a===void 0?100:a;let u;e[7]!==o||e[8]!==d||e[9]!==m||e[10]!==i?(u=Array.isArray(i)?i:Array.isArray(o)?o:[m,d],e[7]=o,e[8]=d,e[9]=m,e[10]=i,e[11]=u):u=e[11];const l=u;let f;e[12]!==t?(f=ae("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),e[12]=t,e[13]=f):f=e[13];let g;e[14]===Symbol.for("react.memo_cache_sentinel")?(g=ae("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),e[14]=g):g=e[14];let h;e[15]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(Ut,{"data-slot":"slider-track",className:g,children:s.jsx(Wt,{"data-slot":"slider-range",className:ae("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),e[15]=h):h=e[15];let v;e[16]!==l.length?(v=Array.from({length:l.length},ts),e[16]=l.length,e[17]=v):v=e[17];let x;return e[18]!==o||e[19]!==d||e[20]!==m||e[21]!==r||e[22]!==f||e[23]!==v||e[24]!==i?(x=s.jsxs(qt,{"data-slot":"slider",defaultValue:o,value:i,min:m,max:d,className:f,...r,children:[h,v]}),e[18]=o,e[19]=d,e[20]=m,e[21]=r,e[22]=f,e[23]=v,e[24]=i,e[25]=x):x=e[25],x}function ts(n,e){return s.jsx(Gt,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},e)}function ss(n){const e=ge.c(104),{settings:t,onChange:o,faviconUsage:r,disabled:c,className:a}=n,i=c===void 0?!1:c;let m;e[0]!==o||e[1]!==t?(m=(I,Se)=>{o({...t,[I]:Se})},e[0]=o,e[1]=t,e[2]=m):m=e[2];const d=m;let u;e[3]!==a?(u=ae("space-y-6",a),e[3]=a,e[4]=u):u=e[4];let l;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(ie,{htmlFor:"format",children:"Format de sortie"}),e[5]=l):l=e[5];let f;e[6]!==d?(f=I=>d("format",I),e[6]=d,e[7]=f):f=e[7];let g;e[8]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(ot,{id:"format",children:s.jsx(it,{placeholder:"Sélectionnez un format"})}),e[8]=g):g=e[8];let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(je,{value:"webp",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:"WebP"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Excellent support navigateurs, bonne compression"})]})}),e[9]=h):h=e[9];let v;e[10]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(je,{value:"avif",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:"AVIF"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Meilleure compression, support croissant"})]})}),e[10]=v):v=e[10];let x;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsxs(at,{children:[h,v,s.jsx(je,{value:"both",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:"WebP + AVIF"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Les deux formats pour une compatibilité maximale"})]})})]}),e[11]=x):x=e[11];let j;e[12]!==i||e[13]!==t.format||e[14]!==f?(j=s.jsxs("div",{className:"space-y-2",children:[l,s.jsxs(rt,{value:t.format,onValueChange:f,disabled:i,children:[g,x]})]}),e[12]=i,e[13]=t.format,e[14]=f,e[15]=j):j=e[15];let P;e[16]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(ie,{children:"Qualité de compression"}),e[16]=P):P=e[16];let b;e[17]!==t.quality?(b=s.jsxs("div",{className:"flex items-center justify-between",children:[P,s.jsxs("span",{className:"text-sm font-medium",children:[t.quality,"%"]})]}),e[17]=t.quality,e[18]=b):b=e[18];let S;e[19]!==t.quality?(S=[t.quality],e[19]=t.quality,e[20]=S):S=e[20];let N;e[21]!==d?(N=I=>{const[Se]=I;return d("quality",Se)},e[21]=d,e[22]=N):N=e[22];let C;e[23]!==i||e[24]!==S||e[25]!==N?(C=s.jsx(es,{value:S,onValueChange:N,min:1,max:100,step:1,disabled:i,className:"py-2"}),e[23]=i,e[24]=S,e[25]=N,e[26]=C):C=e[26];let y;e[27]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Petite taille"}),s.jsx("span",{children:"Haute qualité"})]}),e[27]=y):y=e[27];let E;e[28]!==b||e[29]!==C?(E=s.jsxs("div",{className:"space-y-4",children:[b,C,y]}),e[28]=b,e[29]=C,e[30]=E):E=e[30];let A;e[31]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(ie,{children:"Dimensions maximales (optionnel)"}),e[31]=A):A=e[31];let R;e[32]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(ie,{htmlFor:"max-width",className:"text-xs text-muted-foreground",children:"Largeur max (px)"}),e[32]=R):R=e[32];const D=t.max_width??"";let k;e[33]!==d?(k=I=>d("max_width",I.target.value?parseInt(I.target.value):null),e[33]=d,e[34]=k):k=e[34];let M;e[35]!==i||e[36]!==D||e[37]!==k?(M=s.jsxs("div",{className:"space-y-2",children:[R,s.jsx(Ee,{id:"max-width",type:"number",placeholder:"Ex: 1920",value:D,onChange:k,min:1,max:4096,disabled:i})]}),e[35]=i,e[36]=D,e[37]=k,e[38]=M):M=e[38];let G;e[39]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(ie,{htmlFor:"max-height",className:"text-xs text-muted-foreground",children:"Hauteur max (px)"}),e[39]=G):G=e[39];const X=t.max_height??"";let V;e[40]!==d?(V=I=>d("max_height",I.target.value?parseInt(I.target.value):null),e[40]=d,e[41]=V):V=e[41];let w;e[42]!==i||e[43]!==X||e[44]!==V?(w=s.jsxs("div",{className:"space-y-2",children:[G,s.jsx(Ee,{id:"max-height",type:"number",placeholder:"Ex: 1080",value:X,onChange:V,min:1,max:4096,disabled:i})]}),e[42]=i,e[43]=X,e[44]=V,e[45]=w):w=e[45];let _;e[46]!==M||e[47]!==w?(_=s.jsxs("div",{className:"space-y-4",children:[A,s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M,w]})]}),e[46]=M,e[47]=w,e[48]=_):_=e[48];let K;e[49]!==d?(K=I=>d("maintain_aspect_ratio",I),e[49]=d,e[50]=K):K=e[50];let Q;e[51]!==i||e[52]!==t.maintain_aspect_ratio||e[53]!==K?(Q=s.jsx(Pe,{id:"maintain-ratio",checked:t.maintain_aspect_ratio,onCheckedChange:K,disabled:i}),e[51]=i,e[52]=t.maintain_aspect_ratio,e[53]=K,e[54]=Q):Q=e[54];let Z;e[55]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(ie,{htmlFor:"maintain-ratio",className:"cursor-pointer",children:"Conserver les proportions"}),e[55]=Z):Z=e[55];let B;e[56]!==Q?(B=s.jsxs("div",{className:"flex items-center space-x-2",children:[Q,Z]}),e[56]=Q,e[57]=B):B=e[57];const se=t.generate_favicons??!1;let T;e[58]!==d?(T=I=>d("generate_favicons",I),e[58]=d,e[59]=T):T=e[59];const ne=i||r?.plan==="free"&&r?.remaining===0;let F;e[60]!==se||e[61]!==T||e[62]!==ne?(F=s.jsx(Pe,{id:"generate-favicons",checked:se,onCheckedChange:T,disabled:ne}),e[60]=se,e[61]=T,e[62]=ne,e[63]=F):F=e[63];let J;e[64]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsxs(ie,{htmlFor:"generate-favicons",className:"cursor-pointer flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),"Générer les favicons & icônes app"]}),e[64]=J):J=e[64];let $;e[65]!==r?($=r?.plan==="free"&&s.jsxs(Ce,{variant:"outline",className:"text-xs",children:[r.remaining,"/",r.limit," restant"]}),e[65]=r,e[66]=$):$=e[66];let z;e[67]!==r?.plan?(z=r?.plan==="pro"&&s.jsx(Ce,{variant:"secondary",className:"text-xs",children:"Pro"}),e[67]=r?.plan,e[68]=z):z=e[68];let H;e[69]!==F||e[70]!==$||e[71]!==z?(H=s.jsxs("div",{className:"flex items-center space-x-2",children:[F,J,$,z]}),e[69]=F,e[70]=$,e[71]=z,e[72]=H):H=e[72];let L;e[73]!==t.generate_favicons?(L=t.generate_favicons&&s.jsx("p",{className:"text-xs text-muted-foreground ml-6",children:"Génère 6 tailles : 16×16, 32×32, 180×180 (Apple), 192×192 & 512×512 (Android), 150×150 (Windows)"}),e[73]=t.generate_favicons,e[74]=L):L=e[74];let O;e[75]!==H||e[76]!==L?(O=s.jsxs("div",{className:"space-y-2",children:[H,L]}),e[75]=H,e[76]=L,e[77]=O):O=e[77];let ee;e[78]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx("p",{className:"font-medium",children:"Résumé des paramètres :"}),e[78]=ee):ee=e[78];let q;e[79]!==t.format?(q=t.format.toUpperCase(),e[79]=t.format,e[80]=q):q=e[80];let U;e[81]!==q?(U=s.jsxs("li",{children:["• Format : ",q]}),e[81]=q,e[82]=U):U=e[82];let W;e[83]!==t.quality?(W=s.jsxs("li",{children:["• Qualité : ",t.quality,"%"]}),e[83]=t.quality,e[84]=W):W=e[84];let te;e[85]!==t.maintain_aspect_ratio||e[86]!==t.max_height||e[87]!==t.max_width?(te=(t.max_width||t.max_height)&&s.jsxs("li",{children:["• Dimensions max : ",t.max_width||"∞"," × ",t.max_height||"∞"," px",t.maintain_aspect_ratio&&" (proportions conservées)"]}),e[85]=t.maintain_aspect_ratio,e[86]=t.max_height,e[87]=t.max_width,e[88]=te):te=e[88];let Y;e[89]!==t.generate_favicons?(Y=t.generate_favicons&&s.jsx("li",{children:"• Favicons : 6 tailles générées"}),e[89]=t.generate_favicons,e[90]=Y):Y=e[90];let re;e[91]!==U||e[92]!==W||e[93]!==te||e[94]!==Y?(re=s.jsxs("div",{className:"rounded-lg border bg-muted/50 p-3 text-sm",children:[ee,s.jsxs("ul",{className:"mt-2 space-y-1 text-muted-foreground",children:[U,W,te,Y]})]}),e[91]=U,e[92]=W,e[93]=te,e[94]=Y,e[95]=re):re=e[95];let oe;return e[96]!==j||e[97]!==E||e[98]!==_||e[99]!==u||e[100]!==B||e[101]!==O||e[102]!==re?(oe=s.jsxs("div",{className:u,children:[j,E,_,B,O,re]}),e[96]=j,e[97]=E,e[98]=_,e[99]=u,e[100]=B,e[101]=O,e[102]=re,e[103]=oe):oe=e[103],oe}const ns={format:"webp",quality:80,max_width:null,max_height:null,maintain_aspect_ratio:!0};function zs(n){const e=ge.c(86),{batchId:t,initialBatch:o}=n,{t:r}=ht(),{auth:c}=Ue().props,a=c?.isPro??!1,[i,m]=p.useState(ns);let d;e[0]!==o?.keywords?(d=o?.keywords??[],e[0]=o?.keywords,e[1]=d):d=e[1];const[u,l]=p.useState(d),{suggestions:f,fetchSuggestions:g}=Xe(),{batch:h,isConverting:v,error:x,startConversion:j,pollProgress:P}=pt();let b,S;e[2]!==t||e[3]!==o||e[4]!==P?(b=()=>{o?l(o.keywords??[]):P(t)},S=[t,o,P],e[2]=t,e[3]=o,e[4]=P,e[5]=b,e[6]=S):(b=e[5],S=e[6]),p.useEffect(b,S);let N,C;e[7]!==h||e[8]!==u.length?(N=()=>{h?.keywords&&h.keywords.length>0&&u.length===0&&l(h.keywords)},C=[h,u.length],e[7]=h,e[8]=u.length,e[9]=N,e[10]=C):(N=e[9],C=e[10]),p.useEffect(N,C);const y=h??o;let E;e[11]!==y?.images?.[0]?.original.name||e[12]!==g||e[13]!==u?(E=()=>{const Y=y?.images?.[0]?.original.name;g(Y,u)},e[11]=y?.images?.[0]?.original.name,e[12]=g,e[13]=u,e[14]=E):E=e[14];const A=E;let R;e[15]===Symbol.for("react.memo_cache_sentinel")?(R=Y=>{l(re=>{const oe=[...re];return Y.forEach(I=>{oe.includes(I)||oe.push(I)}),oe})},e[15]=R):R=e[15];const D=R;let k;e[16]!==t||e[17]!==u||e[18]!==i||e[19]!==j?(k=async()=>{try{await j(t,i,u)}catch(Y){console.error("Conversion error:",Y)}},e[16]=t,e[17]=u,e[18]=i,e[19]=j,e[20]=k):k=e[20];const M=k;let G;e[21]!==t?(G=()=>{Re.visit(`/result/${t}`)},e[21]=t,e[22]=G):G=e[22];const X=G,V=os,w=y?.status==="completed",_=y?.status==="processing"||v;let K;e[23]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(Ye,{page:"convert",noindex:!0}),e[23]=K):K=e[23];let Q;e[24]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(vt,{className:"mr-2 h-4 w-4"}),e[24]=Q):Q=e[24];let Z;e[25]!==r?(Z=r("common.back"),e[25]=r,e[26]=Z):Z=e[26];let B;e[27]!==_||e[28]!==Z?(B=s.jsxs(ue,{variant:"ghost",onClick:V,className:"mb-6",disabled:_,children:[Q,Z]}),e[27]=_,e[28]=Z,e[29]=B):B=e[29];let se;e[30]!==r?(se=r("convert.title"),e[30]=r,e[31]=se):se=e[31];let T;e[32]!==se?(T=s.jsx("h1",{className:"mb-2 text-3xl font-bold",children:se}),e[32]=se,e[33]=T):T=e[33];let ne;e[34]!==r?(ne=r("convert.subtitle"),e[34]=r,e[35]=ne):ne=e[35];let F;e[36]!==ne?(F=s.jsx("p",{className:"text-muted-foreground",children:ne}),e[36]=ne,e[37]=F):F=e[37];let J;e[38]!==T||e[39]!==F?(J=s.jsxs("div",{className:"text-center",children:[T,F]}),e[38]=T,e[39]=F,e[40]=J):J=e[40];let $;e[41]!==y||e[42]!==r?($=y?.images&&y.images.length>0&&s.jsxs(fe,{children:[s.jsx(pe,{children:s.jsx(he,{children:r("convert.imagesToConvert",{count:y.images.length})})}),s.jsx(xe,{children:s.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:grid-cols-4 md:grid-cols-6",children:[y.images.slice(0,12).map(rs),y.images.length>12&&s.jsx("div",{className:"flex items-center justify-center rounded-lg border bg-muted text-sm text-muted-foreground",children:r("convert.others",{count:y.images.length-12})})]})})]}),e[41]=y,e[42]=r,e[43]=$):$=e[43];let z;e[44]!==y||e[45]!==w||e[46]!==_||e[47]!==r?(z=(_||w)&&y&&s.jsxs(fe,{children:[s.jsx(pe,{children:s.jsx(he,{children:r("convert.progress")})}),s.jsx(xe,{children:s.jsx(Qt,{batch:y})})]}),e[44]=y,e[45]=w,e[46]=_,e[47]=r,e[48]=z):z=e[48];let H;e[49]!==A||e[50]!==w||e[51]!==a||e[52]!==_||e[53]!==u||e[54]!==i||e[55]!==f||e[56]!==r?(H=!_&&!w&&s.jsxs(s.Fragment,{children:[s.jsxs(fe,{children:[s.jsx(pe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5"}),r("convert.keywords")]}),s.jsx(Ne,{className:"mt-1.5",children:r("convert.keywordsHint")})]}),s.jsx(Qe,{onKeywordsGenerated:D,disabled:_,isPro:a})]})}),s.jsx(xe,{children:s.jsx(Ze,{keywords:u,onChange:l,suggestions:f,onFetchSuggestions:A})})]}),s.jsxs(fe,{children:[s.jsxs(pe,{children:[s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"h-5 w-5"}),r("convert.settingsTitle")]}),s.jsx(Ne,{children:r("convert.settingsSubtitle")})]}),s.jsx(xe,{children:s.jsx(ss,{settings:i,onChange:m})})]})]}),e[49]=A,e[50]=w,e[51]=a,e[52]=_,e[53]=u,e[54]=i,e[55]=f,e[56]=r,e[57]=H):H=e[57];let L;e[58]!==x?(L=x&&s.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:s.jsx("p",{className:"text-destructive",children:x})}),e[58]=x,e[59]=L):L=e[59];let O;e[60]!==M||e[61]!==w||e[62]!==_||e[63]!==r?(O=!_&&!w&&s.jsxs(ue,{size:"lg",onClick:M,className:"gap-2",children:[s.jsx(jt,{className:"h-5 w-5"}),r("convert.startConversion")]}),e[60]=M,e[61]=w,e[62]=_,e[63]=r,e[64]=O):O=e[64];let ee;e[65]!==_||e[66]!==r?(ee=_&&s.jsxs(ue,{size:"lg",disabled:!0,className:"gap-2",children:[s.jsx(De,{className:"h-5 w-5 animate-spin"}),r("convert.converting")]}),e[65]=_,e[66]=r,e[67]=ee):ee=e[67];let q;e[68]!==X||e[69]!==w||e[70]!==r?(q=w&&s.jsxs(ue,{size:"lg",onClick:X,className:"gap-2",children:[r("convert.viewResults"),s.jsx(Je,{className:"h-5 w-5"})]}),e[68]=X,e[69]=w,e[70]=r,e[71]=q):q=e[71];let U;e[72]!==O||e[73]!==ee||e[74]!==q?(U=s.jsxs("div",{className:"flex justify-center gap-4",children:[O,ee,q]}),e[72]=O,e[73]=ee,e[74]=q,e[75]=U):U=e[75];let W;e[76]!==J||e[77]!==$||e[78]!==z||e[79]!==H||e[80]!==L||e[81]!==U?(W=s.jsxs("div",{className:"mx-auto max-w-4xl space-y-8",children:[J,$,z,H,L,U]}),e[76]=J,e[77]=$,e[78]=z,e[79]=H,e[80]=L,e[81]=U,e[82]=W):W=e[82];let te;return e[83]!==B||e[84]!==W?(te=s.jsxs(s.Fragment,{children:[K,s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[B,W]})})]}),e[83]=B,e[84]=W,e[85]=te):te=e[85],te}function rs(n){return s.jsx(et,{image:n},n.id)}function os(){Re.visit("/")}export{zs as default};
